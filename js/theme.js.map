{"version":3,"file":"js/theme.js","mappings":"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","sources":["webpack://base_theme/./src/js/animations.js","webpack://base_theme/webpack/bootstrap","webpack://base_theme/webpack/runtime/compat get default export","webpack://base_theme/webpack/runtime/define property getters","webpack://base_theme/webpack/runtime/hasOwnProperty shorthand","webpack://base_theme/webpack/runtime/make namespace object","webpack://base_theme/./src/js/theme.js"],"sourcesContent":["/**\n * SOUL RESORT ANIMATIONS\n *\n * This file contains all GSAP animations for the Soul Resort theme.\n * Organized by animation type and page-specific implementations.\n *\n * DEPENDENCIES:\n * - GSAP (loaded via CDN)\n * - ScrollTrigger plugin (loaded via CDN)\n *\n * USAGE:\n * - Import this file in your main theme.js\n * - Call specific animation functions as needed\n */\n\n// ========================================\n// HERO ANIMATION SYSTEM\n// ========================================\n\n/**\n * Default Hero Animation Configuration\n * Easy to modify animation parameters\n */\nconst DEFAULT_HERO_ANIMATION_CONFIG = {\n\t// Timing and Duration\n\tduration: 2.5, // Main animation duration (seconds)\n\tease: \"power2.inOut\", // Animation easing\n\n\t// CirclePath Animation\n\tcircle: {\n\t\tstartRadius: 15, // Starting circle radius (%) - bigger visible circle at start\n\t\tendRadius: 100, // Final circle radius (%) - 100% covers full viewport\n\t\tanimationStart: 0.1, // When circle animation starts (0-1)\n\t\tanimationEnd: 1, // When circle animation ends (0-1)\n\t},\n\n\t// Text Scaling Animation\n\ttextScaling: {\n\t\tenabled: true, // Enable/disable text scaling\n\t\tstartScale: 1, // Starting scale (1 = 100%)\n\t\tendScale: 0.75, // Final scale (0.75 = 75% of original size)\n\t\tanimationStart: 0.6, // When text scaling starts (0-1) - starts earlier for longer duration\n\t\tanimationEnd: 1, // When text scaling ends (0-1)\n\t\tease: \"power2.out\", // Text scaling easing (can be different from main ease)\n\t},\n\n\t// Performance Settings\n\tperformance: {\n\t\trefreshPriority: \"auto\", // ScrollTrigger refresh priority\n\t\tscrub: 1, // Enable scrub with 1 second delay for ultra-smooth scroll\n\t\tanticipatePin: 1, // Pin anticipation (for smoother performance)\n\t\tfastScrollEnd: true, // Better handling of fast scrolling\n\t\tpreventOverlaps: true, // Prevent animation overlaps\n\t},\n\n\t// Debug Mode\n\tdebug: false, // Set to true to show ScrollTrigger markers\n};\n\n/**\n * Initialize Hero Animation for any page\n *\n * @param {string} pageSelector - CSS selector for the page (e.g., \".accommodation-template\")\n * @param {object} customConfig - Optional configuration to override defaults\n * @param {string} heroSectionSelector - Optional custom hero section selector (defaults to \".hero-section\")\n */\nfunction initHeroAnimation(\n\tpageSelector,\n\tcustomConfig = {},\n\theroSectionSelector = \".hero-section\"\n) {\n\t// Check if user is on the specified page\n\tif (!document.querySelector(pageSelector)) {\n\t\treturn; // Exit if not on the specified page\n\t}\n\n\t// Check if GSAP and ScrollTrigger are available\n\tif (typeof gsap === \"undefined\" || typeof ScrollTrigger === \"undefined\") {\n\t\tconsole.warn(\"GSAP or ScrollTrigger not loaded. Hero animation skipped.\");\n\t\treturn;\n\t}\n\n\t// Check if mobile device\n\tconst isMobile = window.innerWidth <= 767;\n\n\t// Deep merge custom config with defaults\n\tconst config = {\n\t\t...DEFAULT_HERO_ANIMATION_CONFIG,\n\t\t...customConfig,\n\t\t// Ensure nested objects are properly merged\n\t\tcircle: {\n\t\t\t...DEFAULT_HERO_ANIMATION_CONFIG.circle,\n\t\t\t...(customConfig.circle || {}),\n\t\t},\n\t\ttextScaling: {\n\t\t\t...DEFAULT_HERO_ANIMATION_CONFIG.textScaling,\n\t\t\t...(customConfig.textScaling || {}),\n\t\t},\n\t\tperformance: {\n\t\t\t...DEFAULT_HERO_ANIMATION_CONFIG.performance,\n\t\t\t...(customConfig.performance || {}),\n\t\t},\n\t};\n\n\t// Register ScrollTrigger plugin\n\tgsap.registerPlugin(ScrollTrigger);\n\n\t// Get elements with page-specific scope\n\tconst pageContainer = document.querySelector(pageSelector);\n\tconst heroSection = pageContainer.querySelector(heroSectionSelector);\n\tconst heroClippath = pageContainer.querySelector(\"#hero-clippath\");\n\tconst heroContent = pageContainer.querySelector(\".hero-content\");\n\tconst heroTextBack = pageContainer.querySelector(\".hero-text-back\");\n\n\t// Get text elements for scaling animation\n\tconst heroTitleBlue = pageContainer.querySelector(\".hero-title-blue\");\n\tconst heroTitleWhite = pageContainer.querySelector(\".hero-title-white\");\n\n\t// Get description elements (only for pages that have them)\n\tconst heroDescriptionBlue = pageContainer.querySelector(\n\t\t\".hero-description-blue\"\n\t);\n\tconst heroDescriptionWhite = pageContainer.querySelector(\n\t\t\".hero-description-white\"\n\t);\n\n\t// Check if all required elements exist\n\tif (!heroSection || !heroClippath || !heroContent) {\n\t\tconsole.warn(\n\t\t\t`Required hero animation elements not found in ${pageSelector}.`\n\t\t);\n\t\treturn;\n\t}\n\n\t// Create main timeline with professional GSAP techniques\n\tconst heroTimeline = gsap.timeline({\n\t\tscrollTrigger: isMobile\n\t\t\t? null\n\t\t\t: {\n\t\t\t\t\ttrigger: heroSection,\n\t\t\t\t\tstart: \"top top\",\n\t\t\t\t\tend: \"bottom top\", // Animation ends when bottom of section reaches top of viewport\n\t\t\t\t\tscrub: config.performance.scrub,\n\t\t\t\t\tpin: true,\n\t\t\t\t\tpinSpacing: true, // Keep pin spacing for proper layout\n\t\t\t\t\tanticipatePin: 1, // PRO HACK: Anticipate pin early for fast-scroll sync\n\t\t\t\t\trefreshPriority: \"high\", // PRO HACK: High priority refresh\n\t\t\t\t\tmarkers: config.debug,\n\t\t\t\t\t// PRO HACK: Force recalculation on refresh to prevent desync\n\t\t\t\t\tinvalidateOnRefresh: true,\n\t\t\t\t\t// Professional scrubbing improvements\n\t\t\t\t\tfastScrollEnd: true, // PRO HACK: Better handling of fast scrolls\n\t\t\t\t\tpreventOverlaps: true,\n\t\t\t\t\t// Clean scroll trigger without problematic refresh logic\n\t\t\t\t\tstart: \"top top\",\n\t\t\t\t\tend: \"bottom top\",\n\t\t\t  },\n\t});\n\n\t// Set initial clippath size (0% - invisible circle)\n\tgsap.set([heroClippath, heroContent], {\n\t\tclipPath: `circle(0% at center)`,\n\t});\n\n\t// Set initial text opacity (invisible)\n\tgsap.set([heroTitleBlue, heroTitleWhite].filter(Boolean), {\n\t\topacity: 0,\n\t\tscale: 0.8,\n\t});\n\n\t// Set initial description opacity (if descriptions exist)\n\tif (heroDescriptionBlue || heroDescriptionWhite) {\n\t\tgsap.set([heroDescriptionBlue, heroDescriptionWhite].filter(Boolean), {\n\t\t\topacity: 0,\n\t\t\tscale: 0.9,\n\t\t\ty: 20,\n\t\t});\n\t}\n\n\t// Entrance animation: smoothly scale from 0% to startRadius\n\tgsap.to([heroClippath, heroContent], {\n\t\tduration: 1.2,\n\t\tclipPath: isMobile\n\t\t\t? `circle(100% at center)`\n\t\t\t: `circle(${config.circle.startRadius}% at center)`,\n\t\tease: \"power2.out\",\n\t\tdelay: 0.3, // Small delay for smooth page load\n\t});\n\n\t// Entrance animation for text: fade in and scale up\n\tgsap.to([heroTitleBlue, heroTitleWhite].filter(Boolean), {\n\t\tduration: 1.2,\n\t\topacity: 1,\n\t\tscale: 1,\n\t\tease: \"power2.out\",\n\t\tdelay: 0.5, // Slightly after circle starts\n\t});\n\n\t// Entrance animation for descriptions (if they exist)\n\tif (heroDescriptionBlue || heroDescriptionWhite) {\n\t\tgsap.to([heroDescriptionBlue, heroDescriptionWhite].filter(Boolean), {\n\t\t\tduration: 1.4,\n\t\t\topacity: 1,\n\t\t\tscale: 1,\n\t\t\ty: 0,\n\t\t\tease: \"power2.out\",\n\t\t\tdelay: 0.8, // After title animation starts\n\t\t});\n\t}\n\n\t// Mobile-only: Smooth circle expansion to full size after entrance\n\tif (isMobile) {\n\t\tgsap.to([heroClippath, heroContent], {\n\t\t\tduration: 2.5,\n\t\t\tclipPath: `circle(100% at center)`,\n\t\t\tease: \"power2.inOut\",\n\t\t\tdelay: 1.5, // Start after entrance animations complete\n\t\t});\n\t}\n\n\t// Animate both background image and white text clippath together with smooth interpolation\n\t// Only run scroll-triggered animations on non-mobile devices\n\tif (!isMobile) {\n\t\theroTimeline\n\t\t\t.to(\n\t\t\t\theroClippath,\n\t\t\t\t{\n\t\t\t\t\tduration: config.duration,\n\t\t\t\t\tclipPath: `circle(${config.circle.endRadius}% at center)`,\n\t\t\t\t\tease: config.ease,\n\t\t\t\t\t// Professional animation properties\n\t\t\t\t\toverwrite: \"auto\",\n\t\t\t\t\timmediateRender: false,\n\t\t\t\t},\n\t\t\t\tconfig.circle.animationStart\n\t\t\t)\n\t\t\t.to(\n\t\t\t\theroContent,\n\t\t\t\t{\n\t\t\t\t\tduration: config.duration,\n\t\t\t\t\tclipPath: `circle(${config.circle.endRadius}% at center)`,\n\t\t\t\t\tease: config.ease,\n\t\t\t\t\t// Professional animation properties\n\t\t\t\t\toverwrite: \"auto\",\n\t\t\t\t\timmediateRender: false,\n\t\t\t\t},\n\t\t\t\tconfig.circle.animationStart\n\t\t\t);\n\t}\n\n\t// Add text scaling animation if enabled with smooth momentum\n\t// Only run scroll-triggered text scaling on non-mobile devices\n\tif (config.textScaling.enabled && !isMobile) {\n\t\t// Create array of text elements that exist (titles)\n\t\tconst textElements = [heroTitleBlue, heroTitleWhite].filter(Boolean);\n\t\t// Create array of description elements that exist\n\t\tconst descriptionElements = [\n\t\t\theroDescriptionBlue,\n\t\t\theroDescriptionWhite,\n\t\t].filter(Boolean);\n\n\t\tif (textElements.length > 0) {\n\t\t\t// Scale down both blue and white text simultaneously with professional properties\n\t\t\theroTimeline.to(\n\t\t\t\ttextElements,\n\t\t\t\t{\n\t\t\t\t\tduration:\n\t\t\t\t\t\tconfig.duration *\n\t\t\t\t\t\t(config.textScaling.animationEnd -\n\t\t\t\t\t\t\tconfig.textScaling.animationStart),\n\t\t\t\t\tscale: config.textScaling.endScale,\n\t\t\t\t\tease: config.textScaling.ease,\n\t\t\t\t\ttransformOrigin: \"center center\", // Scale from center\n\t\t\t\t\t// Professional animation properties for smooth scrubbing\n\t\t\t\t\toverwrite: \"auto\",\n\t\t\t\t\timmediateRender: false,\n\t\t\t\t\t// Add momentum to text scaling\n\t\t\t\t\tonUpdate: function () {\n\t\t\t\t\t\t// Ensure smooth interpolation during scrubbing\n\t\t\t\t\t\tgsap.set(textElements, {\n\t\t\t\t\t\t\twillChange: \"transform\",\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tconfig.textScaling.animationStart\n\t\t\t);\n\t\t}\n\n\t\t// Scale down descriptions if they exist (slightly less scaling for better readability)\n\t\tif (descriptionElements.length > 0) {\n\t\t\theroTimeline.to(\n\t\t\t\tdescriptionElements,\n\t\t\t\t{\n\t\t\t\t\tduration:\n\t\t\t\t\t\tconfig.duration *\n\t\t\t\t\t\t(config.textScaling.animationEnd -\n\t\t\t\t\t\t\tconfig.textScaling.animationStart),\n\t\t\t\t\tscale: config.textScaling.endScale + 0.1, // Slightly less scaling than titles\n\t\t\t\t\tease: config.textScaling.ease,\n\t\t\t\t\ttransformOrigin: \"center center\",\n\t\t\t\t\toverwrite: \"auto\",\n\t\t\t\t\timmediateRender: false,\n\t\t\t\t\tonUpdate: function () {\n\t\t\t\t\t\tgsap.set(descriptionElements, {\n\t\t\t\t\t\t\twillChange: \"transform\",\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tconfig.textScaling.animationStart + 0.1 // Start slightly after titles\n\t\t\t);\n\t\t}\n\t}\n\n\t// Only refresh on window resize (essential for responsive behavior)\n\tlet resizeTimer;\n\twindow.addEventListener(\"resize\", function () {\n\t\tclearTimeout(resizeTimer);\n\t\tresizeTimer = setTimeout(function () {\n\t\t\t// Only refresh on actual resize, not on scroll\n\t\t\tif (typeof ScrollTrigger !== \"undefined\") {\n\t\t\t\tScrollTrigger.refresh();\n\t\t\t}\n\t\t}, 250); // Longer delay to prevent frequent refreshes\n\t});\n\n\t// Log animation initialization (can be removed in production)\n\tif (config.debug) {\n\t\tconsole.log(`Hero Animation Initialized for ${pageSelector}`, {\n\t\t\tconfig: config,\n\t\t\telements: { heroSection, heroClippath, heroContent },\n\t\t});\n\t}\n\n\t// Return cleanup function to prevent memory leaks\n\treturn () => {\n\t\t// Cleanup resize timer\n\t\tclearTimeout(resizeTimer);\n\t};\n}\n\n// ========================================\n// SERENE TITLE ANIMATION SYSTEM\n// ========================================\n\n/**\n * Default Serene Title Animation Configuration\n */\nconst DEFAULT_SERENE_TITLE_CONFIG = {\n\tstart: \"top bottom+=50vh\", // when serene section is 50vh below viewport\n\tmiddle: \"center center\", // when lines meet at center (exact screen middle)\n\tend: \"bottom top\", // when section leaves viewport\n\tscrub: true, // clamp precisely at center (no momentum)\n\tdebug: false,\n};\n\n/**\n * Initialize Serene Title Animation\n *\n * @param {string} pageSelector - CSS selector for the page\n * @param {object} customConfig - Optional configuration to override defaults\n */\nfunction initSereneTitleAnimation(pageSelector, customConfig = {}) {\n\t// Ensure page exists\n\tconst page = document.querySelector(pageSelector);\n\tif (!page) return;\n\n\t// Check if mobile device - skip animation on mobile\n\tconst isMobile = window.innerWidth <= 767;\n\tif (isMobile) {\n\t\treturn; // Exit early on mobile devices\n\t}\n\n\tif (typeof gsap === \"undefined\" || typeof ScrollTrigger === \"undefined\") {\n\t\tconsole.warn(\n\t\t\t\"GSAP/ScrollTrigger not available for Serene Title animation.\"\n\t\t);\n\t\treturn;\n\t}\n\n\tgsap.registerPlugin(ScrollTrigger);\n\n\tconst sereneSection = page.querySelector(\".serene-section\");\n\tconst sereneTitle = sereneSection\n\t\t? sereneSection.querySelector(\".serene-title\")\n\t\t: null;\n\tconst firstLine = sereneTitle\n\t\t? sereneTitle.querySelector(\".first_line\")\n\t\t: null;\n\tconst secondLine = sereneTitle\n\t\t? sereneTitle.querySelector(\".second_line\")\n\t\t: null;\n\n\tif (!sereneSection || !sereneTitle || !firstLine || !secondLine) {\n\t\treturn;\n\t}\n\n\tconst cfg = { ...DEFAULT_SERENE_TITLE_CONFIG, ...customConfig };\n\n\t// Initial positions: first line from left, second line from right\n\tgsap.set(firstLine, { xPercent: -110 });\n\tgsap.set(secondLine, { xPercent: 110 });\n\n\t// Create timeline for continuous movement\n\tconst timeline = gsap.timeline({\n\t\tscrollTrigger: {\n\t\t\ttrigger: sereneSection,\n\t\t\tstart: cfg.start,\n\t\t\tend: cfg.end,\n\t\t\tscrub: cfg.scrub,\n\t\t\tmarkers: cfg.debug,\n\t\t\tinvalidateOnRefresh: true,\n\t\t\tfastScrollEnd: true,\n\t\t},\n\t});\n\n\t// Continuous movement: Lines enter from sides and continue to opposite sides\n\ttimeline\n\t\t.to(firstLine, { xPercent: 110, ease: \"none\" }, 0) // Left to Right continuously\n\t\t.to(secondLine, { xPercent: -110, ease: \"none\" }, 0); // Right to Left continuously\n}\n\n// ========================================\n// IMMUNITY SECTION ANIMATION SYSTEM\n// ========================================\n\n/**\n * Default Immunity Section Animation Configuration\n */\nconst DEFAULT_IMMUNITY_CONFIG = {\n\tstart: \"top center\", // Start when section top reaches center\n\tend: \"bottom center\", // End when section bottom reaches center\n\tscrub: 1, // Smooth scrubbing\n\tdebug: false,\n\t// Content transition timing\n\tfirstContentEnd: 0.4, // First content disappears at 40% of scroll (earlier timing)\n\t// secondContentStart is calculated to start AFTER first content completely fades\n\tcontentGap: 0.3, // Gap between first and second content (no overlap)\n\t// Image movement speed\n\timageMoveSpeed: 0.8, // How fast side images move (0.5 = slower, 1.5 = faster)\n};\n\n/**\n * Initialize Immunity Section Animation\n *\n * @param {string} pageSelector - CSS selector for the page\n * @param {object} customConfig - Optional configuration to override defaults\n */\nfunction initImmunitySectionAnimation(pageSelector, customConfig = {}) {\n\tconsole.log(\" initImmunitySectionAnimation called for:\", pageSelector);\n\n\t// Ensure page exists\n\tconst page = document.querySelector(pageSelector);\n\tif (!page) {\n\t\tconsole.warn(\" Page not found:\", pageSelector);\n\t\treturn;\n\t}\n\tconsole.log(\" Page found:\", page);\n\n\t// Check if mobile device - skip animation on mobile\n\tconst isMobile = window.innerWidth <= 767;\n\tif (isMobile) {\n\t\treturn; // Exit early on mobile devices\n\t}\n\n\tif (typeof gsap === \"undefined\" || typeof ScrollTrigger === \"undefined\") {\n\t\tconsole.warn(\n\t\t\t\"GSAP/ScrollTrigger not available for Immunity Section animation.\"\n\t\t);\n\t\treturn;\n\t}\n\n\tgsap.registerPlugin(ScrollTrigger);\n\n\tconst immunitySection = page.querySelector(\".immunity_section\");\n\tconst contentWrapper = immunitySection\n\t\t? immunitySection.querySelector(\".content_wrapper\")\n\t\t: null;\n\tconst firstItem = contentWrapper\n\t\t? contentWrapper.querySelector(\".single_item.first\")\n\t\t: null;\n\tconst secondItem = contentWrapper\n\t\t? contentWrapper.querySelector(\".single_item.second\")\n\t\t: null;\n\tconst leftImages = immunitySection\n\t\t? immunitySection.querySelectorAll(\".img_wrapper.left\")\n\t\t: null;\n\tconst rightImages = immunitySection\n\t\t? immunitySection.querySelectorAll(\".img_wrapper.right\")\n\t\t: null;\n\n\tif (!immunitySection || !contentWrapper || !firstItem || !secondItem) {\n\t\tconsole.warn(\" Required immunity section elements not found:\", {\n\t\t\timmunitySection: !!immunitySection,\n\t\t\tcontentWrapper: !!contentWrapper,\n\t\t\tfirstItem: !!firstItem,\n\t\t\tsecondItem: !!secondItem,\n\t\t});\n\t\treturn;\n\t}\n\tconsole.log(\" All required elements found:\", {\n\t\timmunitySection,\n\t\tcontentWrapper,\n\t\tfirstItem,\n\t\tsecondItem,\n\t});\n\n\tconst cfg = { ...DEFAULT_IMMUNITY_CONFIG, ...customConfig };\n\n\t// Set initial states - Keep content visible initially\n\tgsap.set(firstItem, { opacity: 1, y: 0 });\n\tgsap.set(secondItem, { opacity: 0, y: 50 });\n\tgsap.set(contentWrapper, { opacity: 1, y: 0 }); // Ensure content wrapper is visible\n\n\t// Create main timeline for immunity section - NO PINNING\n\tconst immunityTimeline = gsap.timeline({\n\t\tscrollTrigger: {\n\t\t\ttrigger: immunitySection,\n\t\t\tstart: \"top center\", // Fixed start position\n\t\t\tend: \"bottom center\", // Fixed end position\n\t\t\tscrub: cfg.scrub,\n\t\t\tmarkers: cfg.debug,\n\t\t\t// REMOVED: pin: contentWrapper - No pinning to prevent hiding\n\t\t\t// REMOVED: pinSpacing: false - No pinning needed\n\t\t\t// REMOVED: anticipatePin: 1 - No pinning needed\n\t\t\tinvalidateOnRefresh: false, // Prevent invalidation issues\n\t\t\trefreshPriority: \"high\", // High priority refresh\n\t\t\tfastScrollEnd: true, // Better fast scroll handling\n\t\t\t// Add more debugging\n\t\t\tonEnter: () => console.log(\" ScrollTrigger ENTERED immunity section\"),\n\t\t\tonLeave: () => console.log(\" ScrollTrigger LEFT immunity section\"),\n\t\t\tonEnterBack: () =>\n\t\t\t\tconsole.log(\" ScrollTrigger ENTERED BACK immunity section\"),\n\t\t\tonLeaveBack: () =>\n\t\t\t\tconsole.log(\" ScrollTrigger LEFT BACK immunity section\"),\n\t\t\t// Add refresh event handler\n\t\t\tonRefresh: () =>\n\t\t\t\tconsole.log(\" ScrollTrigger REFRESHED immunity section\"),\n\t\t},\n\t});\n\n\t// Content always stays visible - no ScrollTrigger interference\n\t// Just ensure content wrapper is always visible\n\tgsap.set(contentWrapper, { opacity: 1, y: 0 });\n\n\t// Hide content wrapper when reaching end of immunity section\n\tScrollTrigger.create({\n\t\ttrigger: immunitySection,\n\t\tstart: \"bottom center\", // When section bottom reaches center of viewport\n\t\tend: \"bottom top\", // When section bottom reaches top of viewport\n\t\tmarkers: cfg.debug,\n\t\tonEnter: () => {\n\t\t\tconsole.log(\n\t\t\t\t\" ScrollTrigger ENTERED end of immunity section - HIDING CONTENT\"\n\t\t\t);\n\t\t\t// Hide content wrapper when reaching end of section\n\t\t\tgsap.to(contentWrapper, {\n\t\t\t\topacity: 0,\n\t\t\t\ty: -50,\n\t\t\t\tduration: 0.8,\n\t\t\t\tease: \"power2.inOut\",\n\t\t\t});\n\t\t},\n\t\tonLeaveBack: () => {\n\t\t\tconsole.log(\n\t\t\t\t\" ScrollTrigger LEFT BACK end of immunity section - SHOWING CONTENT\"\n\t\t\t);\n\t\t\t// Show content wrapper when scrolling back up\n\t\t\tgsap.to(contentWrapper, {\n\t\t\t\topacity: 1,\n\t\t\t\ty: 0,\n\t\t\t\tduration: 0.8,\n\t\t\t\tease: \"power2.out\",\n\t\t\t});\n\t\t},\n\t});\n\n\t// Content transition: First content completely hides, then second content appears (NO OVERLAP)\n\timmunityTimeline\n\t\t.to(\n\t\t\tfirstItem,\n\t\t\t{\n\t\t\t\topacity: 0,\n\t\t\t\ty: -30,\n\t\t\t\tease: \"power2.inOut\",\n\t\t\t\tduration: 0.3, // Fast fade out for first item\n\t\t\t},\n\t\t\tcfg.firstContentEnd\n\t\t)\n\t\t.to(\n\t\t\tsecondItem,\n\t\t\t{\n\t\t\t\topacity: 1,\n\t\t\t\ty: 0,\n\t\t\t\tease: \"power2.out\",\n\t\t\t\tduration: 0.4, // Quick but smooth fade in for second item\n\t\t\t},\n\t\t\tcfg.firstContentEnd + cfg.contentGap // Start second content AFTER first content completely disappears\n\t\t);\n\n\t// Side images move normally (not pinned)\n\tif (leftImages && rightImages) {\n\t\t// Create separate timeline for images (no pinning)\n\t\tconst imageTimeline = gsap.timeline({\n\t\t\tscrollTrigger: {\n\t\t\t\ttrigger: immunitySection,\n\t\t\t\tstart: \"top center\", // Fixed start position\n\t\t\t\tend: \"bottom center\", // Fixed end position\n\t\t\t\tscrub: cfg.scrub,\n\t\t\t\tmarkers: false, // No markers for images\n\t\t\t\tinvalidateOnRefresh: false, // Prevent invalidation issues\n\t\t\t\trefreshPriority: \"high\", // High priority refresh\n\t\t\t\tfastScrollEnd: true, // Better fast scroll handling\n\t\t\t},\n\t\t});\n\n\t\t// Left images move up and fade slightly\n\t\tleftImages.forEach((img, index) => {\n\t\t\tconst moveDistance = (index + 1) * 20; // Different distance for each image\n\t\t\timageTimeline.to(\n\t\t\t\timg,\n\t\t\t\t{\n\t\t\t\t\ty: -moveDistance * cfg.imageMoveSpeed,\n\t\t\t\t\topacity: 0.8,\n\t\t\t\t\tease: \"power1.out\",\n\t\t\t\t},\n\t\t\t\t0\n\t\t\t);\n\t\t});\n\n\t\t// Right images move down and fade slightly\n\t\trightImages.forEach((img, index) => {\n\t\t\tconst moveDistance = (index + 1) * 20; // Different distance for each image\n\t\t\timageTimeline.to(\n\t\t\t\timg,\n\t\t\t\t{\n\t\t\t\t\ty: moveDistance * cfg.imageMoveSpeed,\n\t\t\t\t\topacity: 0.8,\n\t\t\t\t\tease: \"power1.out\",\n\t\t\t\t},\n\t\t\t\t0\n\t\t\t);\n\t\t});\n\t}\n\n\t// Log animation initialization\n\tif (cfg.debug) {\n\t\tconsole.log(\"Immunity Section Animation Initialized\", {\n\t\t\tconfig: cfg,\n\t\t\telements: { immunitySection, contentWrapper, firstItem, secondItem },\n\t\t});\n\n\t\t// Test if ScrollTrigger is working\n\t\tconsole.log(\" ScrollTrigger instances:\", ScrollTrigger.getAll().length);\n\t\tconsole.log(\" Current ScrollTrigger instances:\", ScrollTrigger.getAll());\n\n\t\t// Force refresh to keep markers visible\n\t\tsetTimeout(() => {\n\t\t\tif (typeof ScrollTrigger !== \"undefined\") {\n\t\t\t\tScrollTrigger.refresh();\n\t\t\t\tconsole.log(\" Forced ScrollTrigger refresh to keep markers visible\");\n\t\t\t}\n\t\t}, 100);\n\t}\n}\n\n/**\n * Wait for GSAP to load before initializing immunity section animation\n */\nfunction waitForGSAPAndInitImmunity(pageSelector, customConfig) {\n\tif (typeof gsap !== \"undefined\" && typeof ScrollTrigger !== \"undefined\") {\n\t\tinitImmunitySectionAnimation(pageSelector, customConfig);\n\t} else {\n\t\tsetTimeout(\n\t\t\t() => waitForGSAPAndInitImmunity(pageSelector, customConfig),\n\t\t\t100\n\t\t);\n\t}\n}\n\n\n\n// Add this section to your animations.js file, after the IMMUNITY SECTION ANIMATION SYSTEM\n\n// ========================================\n// SERENE BOTTOM IMAGE ANIMATION SYSTEM\n// ========================================\n\n/**\n * Default Serene Bottom Image Animation Configuration\n */\nconst DEFAULT_SERENE_IMAGE_CONFIG = {\n\tstart: \"top bottom\", // Start when section top enters viewport\n\tend: \"bottom top\", // End when section bottom leaves viewport\n\t\n\t// Upper Middle Image Settings\n\tupperMiddleImage: {\n\t\tenabled: true, // Enable/disable upper middle image animation\n\t\tmoveDistance: 25, // Distance to move down (positive = down, negative = up)\n\t\tease: \"none\", // Animation easing\n\t},\n\t\n\t// Upper Right Image Settings\n\tupperRightImage: {\n\t\tenabled: true, // Enable/disable upper right image animation\n\t\tmoveDistance: -25, // Distance to move up (negative = up, positive = down)\n\t\tease: \"none\", // Animation easing\n\t},\n\t\n\t// Bottom Middle Image Settings\n\tmiddleImage: {\n\t\tenabled: true, // Enable/disable middle image animation\n\t\tmoveDistance: -80, // Distance to move up (negative = up, positive = down)\n\t\tease: \"none\", // Animation easing\n\t},\n\t\n\t// Bottom Left Image Settings\n\tleftImage: {\n\t\tenabled: true, // Enable/disable left image animation\n\t\tmoveDistance: -60, // Distance to move up (can be different from middle)\n\t\tease: \"none\", // Animation easing\n\t},\n\t\n\tscrub: 1, // Smooth scrubbing\n\tdebug: false,\n};\n\n/**\n * Initialize Serene Bottom Images Animation\n * Shifts both the middle and left images up smoothly as user scrolls through the section\n * Each image can have independent movement settings\n *\n * @param {string} pageSelector - CSS selector for the page\n * @param {object} customConfig - Optional configuration to override defaults\n */\nfunction initSereneBottomImageAnimation(pageSelector, customConfig = {}) {\n\t// Ensure page exists\n\tconst page = document.querySelector(pageSelector);\n\tif (!page) return;\n\n\t// Check if mobile device - skip animation on mobile\n\tconst isMobile = window.innerWidth <= 767;\n\tif (isMobile) {\n\t\treturn; // Exit early on mobile devices\n\t}\n\n\tif (typeof gsap === \"undefined\" || typeof ScrollTrigger === \"undefined\") {\n\t\tconsole.warn(\"GSAP/ScrollTrigger not available for Serene Image animation.\");\n\t\treturn;\n\t}\n\n\tgsap.registerPlugin(ScrollTrigger);\n\n\tconst sereneSection = page.querySelector(\".serene-section\");\n\t\n\t// Upper section images\n\tconst upperMiddleImage = sereneSection\n\t\t? sereneSection.querySelector(\".serene-upper-middle-img\")\n\t\t: null;\n\tconst upperRightImage = sereneSection\n\t\t? sereneSection.querySelector(\".serene-upper-right-img\")\n\t\t: null;\n\t\n\t// Bottom section images\n\tconst middleImage = sereneSection\n\t\t? sereneSection.querySelector(\".serene-bottom-middle-img\")\n\t\t: null;\n\tconst leftImage = sereneSection\n\t\t? sereneSection.querySelector(\".serene-bottom-left-img\")\n\t\t: null;\n\n\tif (!sereneSection) {\n\t\treturn;\n\t}\n\n\t// Deep merge custom config with defaults\n\tconst cfg = {\n\t\t...DEFAULT_SERENE_IMAGE_CONFIG,\n\t\t...customConfig,\n\t\tupperMiddleImage: {\n\t\t\t...DEFAULT_SERENE_IMAGE_CONFIG.upperMiddleImage,\n\t\t\t...(customConfig.upperMiddleImage || {}),\n\t\t},\n\t\tupperRightImage: {\n\t\t\t...DEFAULT_SERENE_IMAGE_CONFIG.upperRightImage,\n\t\t\t...(customConfig.upperRightImage || {}),\n\t\t},\n\t\tmiddleImage: {\n\t\t\t...DEFAULT_SERENE_IMAGE_CONFIG.middleImage,\n\t\t\t...(customConfig.middleImage || {}),\n\t\t},\n\t\tleftImage: {\n\t\t\t...DEFAULT_SERENE_IMAGE_CONFIG.leftImage,\n\t\t\t...(customConfig.leftImage || {}),\n\t\t},\n\t};\n\n\t// Animate upper middle image if it exists and is enabled (moves DOWN)\n\tif (upperMiddleImage && cfg.upperMiddleImage.enabled) {\n\t\tgsap.to(upperMiddleImage, {\n\t\t\ty: cfg.upperMiddleImage.moveDistance,\n\t\t\tease: cfg.upperMiddleImage.ease,\n\t\t\tscrollTrigger: {\n\t\t\t\ttrigger: sereneSection,\n\t\t\t\tstart: cfg.start,\n\t\t\t\tend: cfg.end,\n\t\t\t\tscrub: cfg.scrub,\n\t\t\t\tmarkers: cfg.debug,\n\t\t\t\tinvalidateOnRefresh: true,\n\t\t\t\tfastScrollEnd: true,\n\t\t\t\tid: \"serene-upper-middle-img\", // Unique ID for debugging\n\t\t\t},\n\t\t});\n\t}\n\n\t// Animate upper right image if it exists and is enabled (moves UP)\n\tif (upperRightImage && cfg.upperRightImage.enabled) {\n\t\tgsap.to(upperRightImage, {\n\t\t\ty: cfg.upperRightImage.moveDistance,\n\t\t\tease: cfg.upperRightImage.ease,\n\t\t\tscrollTrigger: {\n\t\t\t\ttrigger: sereneSection,\n\t\t\t\tstart: cfg.start,\n\t\t\t\tend: cfg.end,\n\t\t\t\tscrub: cfg.scrub,\n\t\t\t\tmarkers: cfg.debug,\n\t\t\t\tinvalidateOnRefresh: true,\n\t\t\t\tfastScrollEnd: true,\n\t\t\t\tid: \"serene-upper-right-img\", // Unique ID for debugging\n\t\t\t},\n\t\t});\n\t}\n\n\t// Animate bottom middle image if it exists and is enabled\n\tif (middleImage && cfg.middleImage.enabled) {\n\t\tgsap.to(middleImage, {\n\t\t\ty: cfg.middleImage.moveDistance,\n\t\t\tease: cfg.middleImage.ease,\n\t\t\tscrollTrigger: {\n\t\t\t\ttrigger: sereneSection,\n\t\t\t\tstart: cfg.start,\n\t\t\t\tend: cfg.end,\n\t\t\t\tscrub: cfg.scrub,\n\t\t\t\tmarkers: cfg.debug,\n\t\t\t\tinvalidateOnRefresh: true,\n\t\t\t\tfastScrollEnd: true,\n\t\t\t\tid: \"serene-bottom-middle-img\", // Unique ID for debugging\n\t\t\t},\n\t\t});\n\t}\n\n\t// Animate bottom left image if it exists and is enabled\n\tif (leftImage && cfg.leftImage.enabled) {\n\t\tgsap.to(leftImage, {\n\t\t\ty: cfg.leftImage.moveDistance,\n\t\t\tease: cfg.leftImage.ease,\n\t\t\tscrollTrigger: {\n\t\t\t\ttrigger: sereneSection,\n\t\t\t\tstart: cfg.start,\n\t\t\t\tend: cfg.end,\n\t\t\t\tscrub: cfg.scrub,\n\t\t\t\tmarkers: cfg.debug,\n\t\t\t\tinvalidateOnRefresh: true,\n\t\t\t\tfastScrollEnd: true,\n\t\t\t\tid: \"serene-bottom-left-img\", // Unique ID for debugging\n\t\t\t},\n\t\t});\n\t}\n\n\t// Log animation initialization\n\tif (cfg.debug) {\n\t\tconsole.log(\"Serene Images Animation Initialized\", {\n\t\t\tconfig: cfg,\n\t\t\telements: { \n\t\t\t\tsereneSection,\n\t\t\t\tupperMiddleImage: upperMiddleImage ? \"found\" : \"not found\",\n\t\t\t\tupperRightImage: upperRightImage ? \"found\" : \"not found\",\n\t\t\t\tmiddleImage: middleImage ? \"found\" : \"not found\", \n\t\t\t\tleftImage: leftImage ? \"found\" : \"not found\" \n\t\t\t},\n\t\t});\n\t}\n}\n\n/**\n * Wait for GSAP to load before initializing serene image animation\n */\nfunction waitForGSAPAndInitSereneImage(pageSelector, customConfig) {\n\tif (typeof gsap !== \"undefined\" && typeof ScrollTrigger !== \"undefined\") {\n\t\tinitSereneBottomImageAnimation(pageSelector, customConfig);\n\t} else {\n\t\tsetTimeout(\n\t\t\t() => waitForGSAPAndInitSereneImage(pageSelector, customConfig),\n\t\t\t100\n\t\t);\n\t}\n}\n\n// ========================================\n// UPDATE THE EXPORT SECTION AT THE BOTTOM\n// ========================================\n// Add these lines to the existing export section:\n\nwindow.initSereneBottomImageAnimation = initSereneBottomImageAnimation;\nwindow.waitForGSAPAndInitSereneImage = waitForGSAPAndInitSereneImage;\n\n\n\n// ========================================\n// UTILITY FUNCTIONS\n// ========================================\n\n/**\n * Wait for GSAP to load before initializing animations\n */\nfunction waitForGSAPAndInit(pageSelector, customConfig, heroSectionSelector) {\n\tif (typeof gsap !== \"undefined\" && typeof ScrollTrigger !== \"undefined\") {\n\t\tinitHeroAnimation(pageSelector, customConfig, heroSectionSelector);\n\t} else {\n\t\t// Retry after a short delay if GSAP isn't loaded yet\n\t\tsetTimeout(\n\t\t\t() => waitForGSAPAndInit(pageSelector, customConfig, heroSectionSelector),\n\t\t\t100\n\t\t);\n\t}\n}\n\n/**\n * Wait for GSAP to load before initializing serene title animation\n */\nfunction waitForGSAPAndInitSerene(pageSelector, customConfig) {\n\tif (typeof gsap !== \"undefined\" && typeof ScrollTrigger !== \"undefined\") {\n\t\tinitSereneTitleAnimation(pageSelector, customConfig);\n\t} else {\n\t\tsetTimeout(() => waitForGSAPAndInitSerene(pageSelector, customConfig), 100);\n\t}\n}\n\n/**\n * Initialize all hero animations (for re-init after ScrollTrigger kill)\n */\nfunction initAllHeroAnimations() {\n\t// Re-init Accommodation Template Animation\n\tif (document.querySelector(\".accommodation-template\")) {\n\t\tinitHeroAnimation(\".accommodation-template\", {\n\t\t\tdebug: false, // Disable debug for production\n\t\t\tduration: 2.5,\n\t\t\ttextScaling: {\n\t\t\t\tenabled: true,\n\t\t\t\tendScale: 0.7, // Scale down to 70%\n\t\t\t\tanimationStart: 0.5, // Start scaling when image is 50% expanded (longer duration)\n\t\t\t},\n\t\t});\n\n\t\t// Re-init Serene Title animation\n\t\tinitSereneTitleAnimation(\".accommodation-template\");\n\t}\n\n\t// Re-init Ayurveda Template Animation\n\tif (document.querySelector(\".ayurveda-template\")) {\n\t\tinitHeroAnimation(\".ayurveda-template\", {\n\t\t\tdebug: false, // Disable debug for production\n\t\t\tduration: 3, // Slightly slower animation\n\t\t\tease: \"power2.out\",\n\t\t\ttextScaling: {\n\t\t\t\tenabled: true,\n\t\t\t\tendScale: 0.75, // Scale down to 75%\n\t\t\t\tanimationStart: 0.4, // Start scaling when image is 40% expanded (much longer duration)\n\t\t\t\tease: \"power3.out\", // Different easing for text\n\t\t\t},\n\t\t});\n\t}\n\n\t// Re-init About Us Template Animation\n\tif (document.querySelector(\".aboutus-template\")) {\n\t\tinitHeroAnimation(\".aboutus-template\", {\n\t\t\tdebug: false, // Disable debug for production\n\t\t\tduration: 2.8, // Medium animation speed\n\t\t\tease: \"power2.inOut\",\n\t\t\ttextScaling: {\n\t\t\t\tenabled: true,\n\t\t\t\tendScale: 0.8, // Scale down to 80% (less dramatic)\n\t\t\t\tanimationStart: 0.55, // Start scaling when image is 55% expanded\n\t\t\t\tease: \"power2.out\", // Smooth easing for text\n\t\t\t},\n\t\t});\n\t}\n\n\t// Re-init Rooms Template Animation\n\tif (document.querySelector(\".rooms-template\")) {\n\t\tinitHeroAnimation(\".rooms-template\", {\n\t\t\tdebug: false, // Disable debug for production\n\t\t\tduration: 2.5,\n\t\t\tease: \"power2.inOut\",\n\t\t\ttextScaling: {\n\t\t\t\tenabled: true,\n\t\t\t\tendScale: 0.7, // Scale down to 70%\n\t\t\t\tanimationStart: 0.5, // Start scaling when image is 50% expanded\n\t\t\t},\n\t\t});\n\t}\n\n\t// Re-init Immunity Section Animation for Ayurveda page\n\tif (document.querySelector(\".ayurveda-template\")) {\n\t\tinitImmunitySectionAnimation(\".ayurveda-template\", {\n\t\t\tdebug: false, // Disable debug for production\n\t\t});\n\t}\n}\n\n// ========================================\n// EXPORT FUNCTIONS FOR USE IN MAIN THEME.JS\n// ========================================\n\n// Make functions available globally\nwindow.initHeroAnimation = initHeroAnimation;\nwindow.initSereneTitleAnimation = initSereneTitleAnimation;\nwindow.initImmunitySectionAnimation = initImmunitySectionAnimation;\nwindow.waitForGSAPAndInit = waitForGSAPAndInit;\nwindow.waitForGSAPAndInitSerene = waitForGSAPAndInitSerene;\nwindow.waitForGSAPAndInitImmunity = waitForGSAPAndInitImmunity;\nwindow.initAllHeroAnimations = initAllHeroAnimations;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * SOUL RESORT THEME - MAIN JAVASCRIPT\n *\n * This file contains the main theme functionality and imports animations.\n * All GSAP animations are now organized in sources/js/animations.js\n *\n * DEPENDENCIES:\n * - GSAP (loaded via CDN)\n * - ScrollTrigger plugin (loaded via CDN)\n * - animations.js (imported below)\n */\n\n// Import animations\nimport \"./animations.js\";\n\njQuery(function ($) {\n  $(document).ready(function () {\n    //  Header nav fixed function \n    $(function () {\n      const $navbar = $(\".main-navigation\"),\n        $searchContainer = $(\".search-container\"),\n        $body = $(\"body\"),\n        $searchBox = $(\"#search-box\"),\n        $searchForm = $(\".search-form\");\n\n      let lastScrollTop = 0,\n        navbarHeight = $navbar.outerHeight(),\n        originalBodyPadRight = null;\n\n      function getScrollbarWidth() {\n        return window.innerWidth - document.documentElement.clientWidth;\n      }\n\n      function handleScroll() {\n        const currentScroll = $(window).scrollTop();\n\n        // Only handle search backdrop closing and scrolled class\n        // Header animation is handled by the vanilla JS system in header.php\n        $navbar.toggleClass(\"scrolled\", currentScroll > navbarHeight);\n\n        if (\n          currentScroll > lastScrollTop &&\n          currentScroll > navbarHeight &&\n          $body.hasClass(\"search-backdrop\")\n        ) {\n          closeSearch();\n        }\n\n        lastScrollTop = currentScroll;\n      }\n\n      function toggleSearch(event) {\n        event.preventDefault();\n        $searchContainer.is(\":visible\") ? closeSearch() : openSearch();\n      }\n\n      function openSearch() {\n        $(\".main-navigation .offcanvas.show\").offcanvas(\"hide\");\n\n        if (!$(\".offcanvas.show\").length) {\n          originalBodyPadRight = $body.css(\"padding-right\");\n          const scrollbarWidth = getScrollbarWidth();\n          if (scrollbarWidth) {\n            $body.css(\"padding-right\", scrollbarWidth + \"px\");\n          }\n        }\n\n        $searchContainer.fadeIn(400);\n        $body.addClass(\"search-backdrop\").css(\"overflow\", \"hidden\");\n        $searchBox.focus();\n\n        $(document).on(\"click.searchOutside\", function (event) {\n          if (\n            !$(event.target).closest(\".search-container, .search-box\").length\n          ) {\n            closeSearch();\n          }\n        });\n      }\n\n      function closeSearch() {\n        $searchContainer.fadeOut(400, function () {\n          if (!$(\".offcanvas.show\").length) {\n            $body.removeClass(\"search-backdrop\").css({\n              overflow: \"\",\n              \"padding-right\": originalBodyPadRight\n            });\n          }\n        });\n        $(document).off(\"click.searchOutside\");\n      }\n\n      $(window).on(\"scroll\", handleScroll);\n      $(\".search-box\").on(\"click\", toggleSearch);\n      $(\"#close-search\").on(\"click\", closeSearch);\n\n      $searchForm.on(\"submit\", function (event) {\n        if ($searchBox.val().trim() === \"\") {\n          event.preventDefault();\n          return false;\n        }\n        closeSearch();\n      });\n\n      $searchContainer.on(\"click\", function (event) {\n        event.stopPropagation();\n      });\n\n      // iOS video autoplay fix\n      function enableIOSVideoAutoplay() {\n        // iOS detection\n        const isIOS =\n          /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n        if (!isIOS) return;\n\n        // Find all videos on the page\n        const videos = document.querySelectorAll(\"video[autoplay]\");\n\n        // Add event listener for page visibility change\n        document.addEventListener(\"visibilitychange\", function () {\n          if (document.visibilityState === \"visible\") {\n            // Restart all videos when page becomes visible\n            videos.forEach((video) => {\n              video.play();\n            });\n          }\n        });\n\n        // Add event listeners for user interaction\n        const userInteractionEvents = [\"touchstart\", \"click\"];\n\n        userInteractionEvents.forEach((eventName) => {\n          document.addEventListener(eventName, initiateVideoPlayback, {\n            once: true\n          });\n        });\n\n        function initiateVideoPlayback() {\n          videos.forEach((video) => {\n            // Unmute and play videos\n            video.muted = true; // Must be muted for autoplay\n            video.play().catch((e) => console.log(\"Error playing video:\", e));\n\n            // Remove controls if they exist\n            if (video.hasAttribute(\"controls\")) {\n              video.removeAttribute(\"controls\");\n            }\n          });\n\n          // Remove event listeners after first interaction\n          userInteractionEvents.forEach((eventName) => {\n            document.removeEventListener(eventName, initiateVideoPlayback);\n          });\n        }\n\n        // Try to play videos immediately\n        videos.forEach((video) => {\n          video.play().catch((e) => {\n            console.log(\"Waiting for user interaction to play video\");\n          });\n        });\n      }\n\n      // Call the function on page load\n      enableIOSVideoAutoplay();\n    });\n\n    // <-- Modern Mobile Header with GSAP Animation -->\n    (function () {\n      // Wait for GSAP to be available\n      if (typeof gsap === \"undefined\") {\n        console.log(\"Waiting for GSAP to load for mobile header...\");\n        setTimeout(arguments.callee, 500);\n        return;\n      }\n\n      // Device detection functions\n      function getCurrentDeviceType() {\n        const width = window.innerWidth;\n        if (width < 768) return \"mobile\";\n        if (width < 1024) return \"tablet\";\n        return \"desktop\";\n      }\n\n      function isMobileDevice() {\n        return getCurrentDeviceType() === \"mobile\";\n      }\n\n      function isTabletDevice() {\n        return getCurrentDeviceType() === \"tablet\";\n      }\n\n      function isLargeScreen() {\n        return window.innerWidth >= 992;\n      }\n\n      // console.log(\" Initializing Modern Mobile Header\");\n\n      // Mobile header state management\n      let mobileMenuState = {\n        isOpen: false,\n        isAnimating: false,\n        timeline: null\n      };\n\n      // Disable Bootstrap offcanvas on mobile devices\n      function disableBootstrapOffcanvas() {\n        const hamburger = document.querySelector(\".navbar-toggler\");\n        if (hamburger && window.innerWidth < 992) {\n          // Remove Bootstrap attributes to prevent offcanvas activation\n          hamburger.removeAttribute(\"data-bs-toggle\");\n          hamburger.removeAttribute(\"data-bs-target\");\n          hamburger.setAttribute(\"data-modern-menu\", \"true\");\n\n          // Hide any existing Bootstrap offcanvas\n          const offcanvasElement = document.querySelector(\".offcanvas\");\n          if (offcanvasElement) {\n            offcanvasElement.style.display = \"none\";\n          }\n\n          // Remove any existing Bootstrap backdrop\n          const existingBackdrop = document.querySelector(\n            \".offcanvas-backdrop\"\n          );\n          if (existingBackdrop) {\n            existingBackdrop.remove();\n          }\n\n          // console.log(\" Bootstrap offcanvas disabled for mobile\");\n        }\n      }\n\n      // Re-enable Bootstrap offcanvas on desktop\n      function enableBootstrapOffcanvas() {\n        const hamburger = document.querySelector(\".navbar-toggler\");\n        if (hamburger && window.innerWidth >= 992) {\n          // Restore Bootstrap attributes for desktop\n          hamburger.setAttribute(\"data-bs-toggle\", \"offcanvas\");\n          hamburger.setAttribute(\"data-bs-target\", \"#mobileMenu\");\n          hamburger.removeAttribute(\"data-modern-menu\");\n\n          // Show Bootstrap offcanvas on desktop\n          const offcanvasElement = document.querySelector(\".offcanvas\");\n          if (offcanvasElement) {\n            offcanvasElement.style.display = \"\";\n          }\n\n          // console.log(\" Bootstrap offcanvas enabled for desktop\");\n        }\n      }\n\n      // Create mobile menu overlay if it doesn't exist\n      function createMobileMenuOverlay() {\n        if (document.getElementById(\"modern-mobile-menu\")) {\n          console.log(\" Mobile menu overlay already exists\");\n          return;\n        }\n\n        console.log(\" Creating mobile menu overlay...\");\n\n        const overlay = document.createElement(\"div\");\n        overlay.id = \"modern-mobile-menu\";\n        overlay.className = \"modern-mobile-menu\";\n\n        // Get menu items from existing navigation\n        const existingNav = document.querySelector(\n          \".offcanvas-body .navbar-nav\"\n        );\n        const secondaryNav = document.querySelector(\n          \".offcanvas-body .navbar-nav:last-child\"\n        );\n\n        let menuHTML = '<div class=\"modern-menu-content\">';\n        menuHTML += '<div class=\"modern-menu-header\">';\n\n        // Add logo\n        const logoWrap = document.querySelector(\n          \".offcanvas-header .mb-logo-wrap\"\n        );\n        if (logoWrap) {\n          menuHTML += logoWrap.outerHTML;\n        }\n\n        menuHTML +=\n          '<button class=\"modern-menu-close\" aria-label=\"Close menu\">';\n        menuHTML += '<span class=\"close-line close-line-1\"></span>';\n        menuHTML += '<span class=\"close-line close-line-2\"></span>';\n        menuHTML += \"</button>\";\n        menuHTML += \"</div>\";\n\n        menuHTML += '<nav class=\"modern-menu-nav\">';\n\n        // Primary navigation\n        if (existingNav) {\n          const primaryItems = existingNav.children;\n          if (primaryItems.length > 0) {\n            menuHTML += '<ul class=\"modern-menu-primary\">';\n            Array.from(primaryItems).forEach((item, index) => {\n              const link = item.querySelector(\".nav-link\");\n              if (link) {\n                const text = link.textContent.trim();\n                const href = link.getAttribute(\"href\");\n                menuHTML += `<li class=\"modern-menu-item\" data-index=\"${index}\">`;\n                menuHTML += `<a href=\"${href}\" class=\"modern-menu-link\">`;\n                menuHTML += `<span class=\"menu-text\">${text}</span>`;\n                menuHTML += `<span class=\"menu-arrow\"></span>`;\n                menuHTML += `</a></li>`;\n              }\n            });\n            menuHTML += \"</ul>\";\n          }\n        }\n\n        // Secondary navigation (if exists)\n        if (secondaryNav && secondaryNav !== existingNav) {\n          const secondaryItems = secondaryNav.children;\n          if (secondaryItems.length > 0) {\n            menuHTML += '<ul class=\"modern-menu-secondary\">';\n            Array.from(secondaryItems).forEach((item, index) => {\n              const link = item.querySelector(\".nav-link\");\n              if (link) {\n                const text = link.textContent.trim();\n                const href = link.getAttribute(\"href\");\n                menuHTML += `<li class=\"modern-menu-item secondary\" data-index=\"${index}\">`;\n                menuHTML += `<a href=\"${href}\" class=\"modern-menu-link\">`;\n                menuHTML += `<span class=\"menu-text\">${text}</span>`;\n                menuHTML += `<span class=\"menu-arrow\"></span>`;\n                menuHTML += `</a></li>`;\n              }\n            });\n            menuHTML += \"</ul>\";\n          }\n        }\n\n        menuHTML += \"</nav>\";\n        menuHTML += \"</div>\";\n\n        overlay.innerHTML = menuHTML;\n        document.body.appendChild(overlay);\n\n        console.log(\" Modern mobile menu overlay created:\", overlay);\n        console.log(\n          \" Menu HTML created with\",\n          overlay.querySelectorAll(\".modern-menu-item\").length,\n          \"menu items\"\n        );\n      }\n\n      // Initialize hamburger animation\n      function initHamburgerAnimation() {\n        const hamburger = document.querySelector(\".navbar-toggler\");\n        const hamburgerIcon = document.querySelector(\".navbar-toggler-icon\");\n\n        if (!hamburger || !hamburgerIcon) return;\n\n        // Create custom hamburger lines\n        hamburgerIcon.innerHTML = \"\";\n        hamburgerIcon.style.backgroundImage = \"none\";\n\n        for (let i = 1; i <= 3; i++) {\n          const line = document.createElement(\"span\");\n          line.className = `hamburger-line hamburger-line-${i}`;\n          hamburgerIcon.appendChild(line);\n        }\n\n        // Set initial state\n        gsap.set(\".hamburger-line\", {\n          transformOrigin: \"center center\",\n          scale: 1,\n          rotation: 0,\n          y: 0\n        });\n\n        // console.log(\" Hamburger animation initialized\");\n      }\n\n      // Create opening animation timeline\n      function createOpenTimeline() {\n        const tl = gsap.timeline({ paused: true });\n        const overlay = document.getElementById(\"modern-mobile-menu\");\n        const menuItems = overlay.querySelectorAll(\".modern-menu-item\");\n        const menuHeader = overlay.querySelector(\".modern-menu-header\");\n        const closeButton = overlay.querySelector(\".modern-menu-close\");\n\n        // Set initial states\n        gsap.set(overlay, {\n          clipPath: \"circle(0% at top right)\",\n          display: \"flex\"\n        });\n\n        gsap.set(menuItems, {\n          y: 60,\n          opacity: 0,\n          scale: 0.8\n        });\n\n        gsap.set(menuHeader, {\n          y: -30,\n          opacity: 0\n        });\n\n        // Animation sequence\n        tl.to(overlay, {\n          clipPath: \"circle(150% at top right)\",\n          duration: 0.8,\n          ease: \"power3.inOut\"\n        })\n          .to(\n            menuHeader,\n            {\n              y: 0,\n              opacity: 1,\n              duration: 0.5,\n              ease: \"power2.out\"\n            },\n            \"-=0.4\"\n          )\n          .to(\n            menuItems,\n            {\n              y: 0,\n              opacity: 1,\n              scale: 1,\n              duration: 0.6,\n              stagger: 0.08,\n              ease: \"back.out(1.2)\"\n            },\n            \"-=0.3\"\n          );\n\n        // Hamburger to X animation\n        const hamburgerLines = document.querySelectorAll(\".hamburger-line\");\n        if (hamburgerLines.length >= 3) {\n          tl.to(\n            \".hamburger-line-1\",\n            {\n              rotation: 45,\n              y: 8,\n              duration: 0.3,\n              ease: \"power2.inOut\"\n            },\n            0\n          )\n            .to(\n              \".hamburger-line-2\",\n              {\n                opacity: 0,\n                scale: 0,\n                duration: 0.2,\n                ease: \"power2.inOut\"\n              },\n              0\n            )\n            .to(\n              \".hamburger-line-3\",\n              {\n                rotation: -45,\n                y: -8,\n                duration: 0.3,\n                ease: \"power2.inOut\"\n              },\n              0\n            );\n        }\n\n        return tl;\n      }\n\n      // Create closing animation timeline\n      function createCloseTimeline() {\n        const tl = gsap.timeline({ paused: true });\n        const overlay = document.getElementById(\"modern-mobile-menu\");\n        const menuItems = overlay.querySelectorAll(\".modern-menu-item\");\n        const menuHeader = overlay.querySelector(\".modern-menu-header\");\n\n        // Animation sequence (reverse of opening)\n        tl.to(menuItems, {\n          y: -40,\n          opacity: 0,\n          scale: 0.9,\n          duration: 0.4,\n          stagger: 0.05,\n          ease: \"power2.in\"\n        })\n          .to(\n            menuHeader,\n            {\n              y: -30,\n              opacity: 0,\n              duration: 0.3,\n              ease: \"power2.in\"\n            },\n            \"-=0.2\"\n          )\n          .to(\n            overlay,\n            {\n              clipPath: \"circle(0% at top right)\",\n              duration: 0.6,\n              ease: \"power3.inOut\"\n            },\n            \"-=0.2\"\n          )\n          .set(overlay, {\n            display: \"none\"\n          });\n\n        // X back to hamburger animation\n        const hamburgerLines = document.querySelectorAll(\".hamburger-line\");\n        if (hamburgerLines.length >= 3) {\n          tl.to(\n            \".hamburger-line-1\",\n            {\n              rotation: 0,\n              y: 0,\n              duration: 0.3,\n              ease: \"power2.inOut\"\n            },\n            0\n          )\n            .to(\n              \".hamburger-line-2\",\n              {\n                opacity: 1,\n                scale: 1,\n                duration: 0.2,\n                ease: \"power2.inOut\"\n              },\n              0.1\n            )\n            .to(\n              \".hamburger-line-3\",\n              {\n                rotation: 0,\n                y: 0,\n                duration: 0.3,\n                ease: \"power2.inOut\"\n              },\n              0\n            );\n        }\n\n        return tl;\n      }\n\n      // Open mobile menu\n      function openMobileMenu() {\n        if (mobileMenuState.isAnimating || mobileMenuState.isOpen) return;\n\n        mobileMenuState.isAnimating = true;\n        mobileMenuState.isOpen = true;\n\n        // Ensure no Bootstrap backdrop exists\n        const existingBackdrop = document.querySelector(\".offcanvas-backdrop\");\n        if (existingBackdrop) {\n          existingBackdrop.remove();\n        }\n\n        // Disable body scroll\n        document.body.style.overflow = \"hidden\";\n        document.body.classList.add(\"mobile-menu-open\");\n\n        // Create and play opening animation\n        const openTl = createOpenTimeline();\n        openTl.play().then(() => {\n          mobileMenuState.isAnimating = false;\n        });\n\n        console.log(\" Mobile menu opened\");\n      }\n\n      // Close mobile menu\n      function closeMobileMenu() {\n        if (mobileMenuState.isAnimating || !mobileMenuState.isOpen) return;\n\n        mobileMenuState.isAnimating = true;\n        mobileMenuState.isOpen = false;\n\n        // Remove any Bootstrap backdrop that might have appeared\n        const existingBackdrop = document.querySelector(\".offcanvas-backdrop\");\n        if (existingBackdrop) {\n          existingBackdrop.remove();\n        }\n\n        // Create and play closing animation\n        const closeTl = createCloseTimeline();\n        closeTl.play().then(() => {\n          mobileMenuState.isAnimating = false;\n          // Re-enable body scroll\n          document.body.style.overflow = \"\";\n          document.body.classList.remove(\"mobile-menu-open\");\n\n          // Final cleanup of any leftover backdrops\n          setTimeout(() => {\n            const leftoverBackdrop = document.querySelector(\n              \".offcanvas-backdrop\"\n            );\n            if (leftoverBackdrop) {\n              leftoverBackdrop.remove();\n            }\n          }, 100);\n        });\n\n        console.log(\" Mobile menu closed\");\n      }\n\n      // Add event listeners\n      function initEventListeners() {\n        // Hamburger click\n        const hamburger = document.querySelector(\".navbar-toggler\");\n        if (hamburger) {\n          console.log(\" Hamburger button found:\", hamburger);\n\n          // Remove any existing Bootstrap event listeners\n          hamburger.addEventListener(\"click\", function (e) {\n            console.log(\" Hamburger clicked! Width:\", window.innerWidth);\n\n            // Only handle custom menu on mobile\n            if (window.innerWidth < 992) {\n              console.log(\" Mobile device detected, using custom menu\");\n              e.preventDefault();\n              e.stopPropagation();\n              e.stopImmediatePropagation();\n\n              if (mobileMenuState.isOpen) {\n                console.log(\" Closing mobile menu\");\n                closeMobileMenu();\n              } else {\n                console.log(\" Opening mobile menu\");\n                openMobileMenu();\n              }\n            } else {\n              console.log(\" Desktop device, letting Bootstrap handle\");\n            }\n            // Let Bootstrap handle desktop\n          });\n        } else {\n          console.log(\" Hamburger button not found!\");\n        }\n\n        // Close button click\n        document.addEventListener(\"click\", function (e) {\n          const target = e.target;\n          if (\n            target &&\n            typeof target.closest === \"function\" &&\n            target.closest(\".modern-menu-close\")\n          ) {\n            e.preventDefault();\n            closeMobileMenu();\n          }\n        });\n\n        // Menu item clicks\n        document.addEventListener(\"click\", function (e) {\n          // Check if e.target is a valid DOM element and has the closest method\n          if (e.target && typeof e.target.closest === \"function\") {\n            const menuLink = e.target.closest(\".modern-menu-link\");\n            if (menuLink && mobileMenuState.isOpen) {\n              // Add a small delay to show the click feedback before navigation\n              setTimeout(() => {\n                closeMobileMenu();\n              }, 150);\n            }\n          }\n        });\n\n        // Escape key to close\n        document.addEventListener(\"keydown\", function (e) {\n          if (e.key === \"Escape\" && mobileMenuState.isOpen) {\n            closeMobileMenu();\n          }\n        });\n\n        // Handle window resize\n        window.addEventListener(\"resize\", function () {\n          if (isLargeScreen()) {\n            // Desktop: close custom menu and enable Bootstrap\n            if (mobileMenuState.isOpen) {\n              // Force close without animation on desktop\n              mobileMenuState.isOpen = false;\n              mobileMenuState.isAnimating = false;\n              document.body.style.overflow = \"\";\n              document.body.classList.remove(\"mobile-menu-open\");\n\n              const overlay = document.getElementById(\"modern-mobile-menu\");\n              if (overlay) {\n                gsap.set(overlay, { display: \"none\" });\n              }\n\n              // Reset hamburger\n              gsap.set(\".hamburger-line\", {\n                rotation: 0,\n                y: 0,\n                opacity: 1,\n                scale: 1\n              });\n            }\n\n            // Enable Bootstrap offcanvas for desktop\n            enableBootstrapOffcanvas();\n          } else {\n            // Mobile: disable Bootstrap offcanvas\n            disableBootstrapOffcanvas();\n          }\n        });\n\n        // Handle video optimization on device type change (if optimizeVideoLoading exists)\n        let lastDeviceType = getCurrentDeviceType();\n        window.addEventListener(\"resize\", function () {\n          const currentDeviceType = getCurrentDeviceType();\n          if (currentDeviceType !== lastDeviceType) {\n            // Device type changed, re-optimize video loading if function exists\n            if (typeof optimizeVideoLoading === \"function\") {\n              setTimeout(() => {\n                optimizeVideoLoading();\n                lastDeviceType = currentDeviceType;\n              }, 100);\n            }\n            lastDeviceType = currentDeviceType;\n          }\n        });\n\n        // Prevent Bootstrap offcanvas from showing on mobile\n        document.addEventListener(\"show.bs.offcanvas\", function (e) {\n          if (window.innerWidth < 992) {\n            e.preventDefault();\n            e.stopPropagation();\n            console.log(\" Prevented Bootstrap offcanvas on mobile\");\n          }\n        });\n\n        // Clean up any Bootstrap backdrops that might appear\n        const observer = new MutationObserver(function (mutations) {\n          mutations.forEach(function (mutation) {\n            if (mutation.type === \"childList\") {\n              mutation.addedNodes.forEach(function (node) {\n                if (\n                  node.nodeType === 1 &&\n                  node.classList &&\n                  node.classList.contains(\"offcanvas-backdrop\")\n                ) {\n                  if (window.innerWidth < 992) {\n                    node.remove();\n                    console.log(\n                      \" Removed unwanted Bootstrap backdrop on mobile\"\n                    );\n                  }\n                }\n              });\n            }\n          });\n        });\n\n        observer.observe(document.body, {\n          childList: true,\n          subtree: false\n        });\n\n        // console.log(\" Event listeners initialized\");\n      }\n\n      // Add hover effects\n      function initHoverEffects() {\n        // Menu item hover effects\n        document.addEventListener(\n          \"mouseenter\",\n          function (e) {\n            // Check if e.target is a valid DOM element and has the closest method\n            if (e.target && typeof e.target.closest === \"function\") {\n              const menuItem = e.target.closest(\".modern-menu-item\");\n              if (menuItem) {\n                gsap.to(menuItem.querySelector(\".menu-text\"), {\n                  x: 10,\n                  duration: 0.3,\n                  ease: \"power2.out\"\n                });\n                gsap.to(menuItem.querySelector(\".menu-arrow\"), {\n                  x: 5,\n                  opacity: 1,\n                  duration: 0.3,\n                  ease: \"power2.out\"\n                });\n              }\n            }\n          },\n          true\n        );\n\n        document.addEventListener(\n          \"mouseleave\",\n          function (e) {\n            // Check if e.target is a valid DOM element and has the closest method\n            if (e.target && typeof e.target.closest === \"function\") {\n              const menuItem = e.target.closest(\".modern-menu-item\");\n              if (menuItem) {\n                gsap.to(menuItem.querySelector(\".menu-text\"), {\n                  x: 0,\n                  duration: 0.3,\n                  ease: \"power2.out\"\n                });\n                gsap.to(menuItem.querySelector(\".menu-arrow\"), {\n                  x: 0,\n                  opacity: 0.7,\n                  duration: 0.3,\n                  ease: \"power2.out\"\n                });\n              }\n            }\n          },\n          true\n        );\n      }\n\n      // Initialize everything\n      function initModernMobileHeader() {\n        // Check if we're on mobile/tablet\n        const isMobile = window.innerWidth < 992;\n        console.log(\" Device check:\", { width: window.innerWidth, isMobile });\n\n        if (isMobile) {\n          disableBootstrapOffcanvas();\n          console.log(\" Bootstrap offcanvas disabled for mobile\");\n        } else {\n          enableBootstrapOffcanvas();\n          console.log(\" Bootstrap offcanvas enabled for desktop\");\n        }\n\n        createMobileMenuOverlay();\n        initHamburgerAnimation();\n        initEventListeners();\n        initHoverEffects();\n\n        console.log(\" Modern mobile header system initialized\");\n      }\n\n      // Start initialization with error handling\n      try {\n        initModernMobileHeader();\n      } catch (error) {\n        console.log(\" Mobile header initialization failed:\", error);\n        // Continue with other functionality even if mobile header fails\n      }\n    })();\n    // <-- Modern Mobile Header End -->\n\n    //Hero Accordion Slider\n    const panels = document.querySelectorAll(\".panel\");\n\n    panels.forEach((panel) => {\n      panel.addEventListener(\"mouseenter\", () => {\n        removeActiveClasses();\n        panel.classList.add(\"active\");\n      });\n    });\n\n    function removeActiveClasses() {\n      panels.forEach((panel) => {\n        panel.classList.remove(\"active\");\n      });\n    }\n    //End Hero Accordion SLider\n\n    // SECTION 3 BACKGROUND IMAGE HOVER EFFECTS\n    function initSection3BackgroundEffects() {\n      const cards = document.querySelectorAll(\".section-3 .card\");\n      const backgroundImage = document.getElementById(\"section3Background\");\n\n      if (!cards.length || !backgroundImage) {\n        console.log(\" Section 3 background effects not found\");\n        console.log(\" Cards found:\", cards.length);\n        console.log(\" Background image element:\", backgroundImage);\n        return;\n      }\n\n      console.log(\n        \" Initializing Section 3 background effects with\",\n        cards.length,\n        \"cards\"\n      );\n\n      // Track the currently active card\n      let activeCard = null;\n      let lastHoveredCard = null;\n\n      // Preload all background images for smoother transitions\n      const imageUrls = [];\n      cards.forEach((card, index) => {\n        const imageUrl = card.getAttribute(\"data-background-image\");\n        if (imageUrl) {\n          imageUrls.push(imageUrl);\n\n          // Preload image\n          const img = new Image();\n          img.src = imageUrl;\n          img.onload = () => {\n            console.log(` Preloaded image ${index}:`, imageUrl);\n          };\n        }\n      });\n\n      // Function to ensure arrows are always visible\n      function ensureArrowsVisible() {\n        cards.forEach((card) => {\n          const actionButton = card.querySelector(\".action-button\");\n          if (actionButton) {\n            const arrowIcon = actionButton.querySelector(\".arrow-icon\");\n            if (arrowIcon) {\n              arrowIcon.style.opacity = \"1\";\n              arrowIcon.style.visibility = \"visible\";\n              arrowIcon.style.display = \"flex\";\n            }\n          }\n        });\n      }\n\n      // Debug: Log all card data\n      cards.forEach((card, index) => {\n        const imageUrl = card.getAttribute(\"data-background-image\");\n        console.log(` Card ${index}:`, {\n          title: card.querySelector(\".title\")?.textContent,\n          backgroundImage: imageUrl,\n          mealIndex: card.getAttribute(\"data-meal-index\")\n        });\n      });\n\n      // Set initial background image from first card and activate first card\n      const firstCard = cards[0];\n      if (firstCard) {\n        const firstImageUrl = firstCard.getAttribute(\"data-background-image\");\n        if (firstImageUrl) {\n          backgroundImage.src = firstImageUrl;\n          console.log(\" Set initial background image:\", firstImageUrl);\n        }\n\n        // Set first card as active by default (show description only)\n        firstCard.classList.add(\"active\");\n        activeCard = firstCard;\n\n        // Show first card's description but hide button text\n        const textWrap = firstCard.querySelector(\".text-wrap\");\n        if (textWrap) {\n          const description = textWrap.querySelector(\"p\");\n          const actionButton = textWrap.querySelector(\".action-button\");\n\n          if (description) description.style.opacity = \"1\";\n          if (actionButton) {\n            actionButton.style.opacity = \"1\";\n            actionButton.style.transform = \"translateX(0)\";\n\n            // Keep button text hidden\n            const buttonContent = actionButton.querySelector(\".button-content\");\n            if (buttonContent) {\n              buttonContent.style.maxWidth = \"0\";\n              buttonContent.style.marginLeft = \"0\";\n\n              const btnText = buttonContent.querySelector(\".btn-text\");\n              if (btnText) btnText.style.opacity = \"0\";\n            }\n\n            // Always show arrow icon\n            const arrowIcon = actionButton.querySelector(\".arrow-icon\");\n            if (arrowIcon) {\n              arrowIcon.style.opacity = \"1\";\n              arrowIcon.style.visibility = \"visible\";\n              arrowIcon.style.display = \"flex\";\n            }\n          }\n        }\n\n        console.log(\" First card activated by default (description only)\");\n      }\n\n      // Add hover event listeners to each card\n      cards.forEach((card, index) => {\n        const imageUrl = card.getAttribute(\"data-background-image\");\n\n        if (!imageUrl) {\n          console.log(\" Card\", index, \"has no background image\");\n          return;\n        }\n\n        // Mouse enter - change background image and show only this card's details\n        card.addEventListener(\"mouseenter\", function () {\n          console.log(\" Hovering card\", index, \"with image:\", imageUrl);\n\n          // Hide all cards' details first\n          cards.forEach((c) => {\n            c.classList.remove(\"active\");\n            c.classList.remove(\"last-hovered\");\n\n            // Hide description and button text for all cards\n            const textWrap = c.querySelector(\".text-wrap\");\n            if (textWrap) {\n              const description = textWrap.querySelector(\"p\");\n              const actionButton = textWrap.querySelector(\".action-button\");\n\n              if (description) description.style.opacity = \"0\";\n              if (actionButton) {\n                actionButton.style.opacity = \"0\";\n                actionButton.style.transform = \"translateX(-20px)\";\n\n                // Hide button text\n                const buttonContent =\n                  actionButton.querySelector(\".button-content\");\n                if (buttonContent) {\n                  buttonContent.style.maxWidth = \"0\";\n                  buttonContent.style.marginLeft = \"0\";\n\n                  const btnText = buttonContent.querySelector(\".btn-text\");\n                  if (btnText) btnText.style.opacity = \"0\";\n                }\n              }\n            }\n          });\n\n          // Add active class to current card\n          card.classList.add(\"active\");\n\n          // Update active card reference\n          activeCard = card;\n          lastHoveredCard = card;\n\n          // Show current card's details\n          const textWrap = card.querySelector(\".text-wrap\");\n          if (textWrap) {\n            const description = textWrap.querySelector(\"p\");\n            const actionButton = textWrap.querySelector(\".action-button\");\n\n            if (description) description.style.opacity = \"1\";\n            if (actionButton) {\n              actionButton.style.opacity = \"1\";\n              actionButton.style.transform = \"translateX(0)\";\n\n              // Show button text on hover\n              const buttonContent =\n                actionButton.querySelector(\".button-content\");\n              if (buttonContent) {\n                buttonContent.style.maxWidth = \"200px\";\n                buttonContent.style.marginLeft = \"8px\";\n\n                const btnText = buttonContent.querySelector(\".btn-text\");\n                if (btnText) btnText.style.opacity = \"1\";\n              }\n            }\n          }\n\n          // Ensure all arrows remain visible\n          ensureArrowsVisible();\n\n          // Smooth transition to new image with enhanced effect\n          backgroundImage.classList.add(\"transitioning\");\n          backgroundImage.style.opacity = \"0\";\n\n          setTimeout(() => {\n            backgroundImage.src = imageUrl;\n            backgroundImage.style.opacity = \"1\";\n\n            // Remove transition class and resume animation after fade-in\n            setTimeout(() => {\n              backgroundImage.classList.remove(\"transitioning\");\n            }, 400);\n          }, 400); // Slightly longer for smoother effect\n        });\n\n        // Mouse leave - keep last hovered card active\n        card.addEventListener(\"mouseleave\", function () {\n          // Remove active class from current card\n          card.classList.remove(\"active\");\n\n          // If this was the last hovered card, keep it active\n          if (lastHoveredCard === card) {\n            // Keep this card's content visible\n            const textWrap = card.querySelector(\".text-wrap\");\n            if (textWrap) {\n              const description = textWrap.querySelector(\"p\");\n              const actionButton = textWrap.querySelector(\".action-button\");\n\n              if (description) description.style.opacity = \"1\";\n              if (actionButton) {\n                actionButton.style.opacity = \"1\";\n                actionButton.style.transform = \"translateX(0)\";\n\n                // Keep button text hidden (only show on hover)\n                const buttonContent =\n                  actionButton.querySelector(\".button-content\");\n                if (buttonContent) {\n                  buttonContent.style.maxWidth = \"0\";\n                  buttonContent.style.marginLeft = \"0\";\n\n                  const btnText = buttonContent.querySelector(\".btn-text\");\n                  if (btnText) btnText.style.opacity = \"0\";\n                }\n              }\n            }\n          } else {\n            // Hide this card's details\n            const textWrap = card.querySelector(\".text-wrap\");\n            if (textWrap) {\n              const description = textWrap.querySelector(\"p\");\n              const actionButton = textWrap.querySelector(\".action-button\");\n\n              if (description) description.style.opacity = \"0\";\n              if (actionButton) {\n                actionButton.style.opacity = \"0\";\n                actionButton.style.transform = \"translateX(-20px)\";\n\n                // Hide button text\n                const buttonContent =\n                  actionButton.querySelector(\".button-content\");\n                if (buttonContent) {\n                  buttonContent.style.maxWidth = \"0\";\n                  buttonContent.style.marginLeft = \"0\";\n\n                  const btnText = buttonContent.querySelector(\".btn-text\");\n                  if (btnText) btnText.style.opacity = \"0\";\n                }\n              }\n            }\n          }\n        });\n\n        // Add click handler for action button\n        const actionButton = card.querySelector(\".action-button\");\n        if (actionButton) {\n          actionButton.addEventListener(\"click\", function (e) {\n            e.preventDefault();\n            const link = actionButton.querySelector(\"a\").getAttribute(\"href\");\n            if (link) {\n              window.open(link, \"_blank\");\n            }\n          });\n        }\n      });\n\n      console.log(\" Section 3 background effects initialized\");\n    }\n\n    // Initialize section 3 background effects\n    try {\n      initSection3BackgroundEffects();\n    } catch (error) {\n      console.log(\n        \" Section 3 background effects initialization failed:\",\n        error\n      );\n      // Fallback: try to initialize after a short delay\n      setTimeout(() => {\n        try {\n          initSection3BackgroundEffects();\n        } catch (fallbackError) {\n          console.log(\n            \" Section 3 background effects fallback also failed:\",\n            fallbackError\n          );\n        }\n      }, 1000);\n    }\n\n    // HERO VIDEO CONTROLS\n    function initHeroVideoControls() {\n      const heroVideo = document.getElementById(\"heroVideo\");\n      const playPauseBtn = document.querySelector(\".play-pause\");\n      const muteBtn = document.querySelector(\".mute\");\n      const videoBanner = document.getElementById(\"videoBanner\");\n\n      if (!heroVideo || !playPauseBtn || !muteBtn) {\n        console.log(\" Video controls not found\");\n        return;\n      }\n\n      console.log(\" Found video controls:\", {\n        heroVideo,\n        playPauseBtn,\n        muteBtn,\n        videoBanner\n      });\n\n      // Banner-to-video transition management\n      function handleBannerToVideoTransition() {\n        if (!videoBanner) return;\n\n        console.log(\" Managing banner-to-video transition\");\n\n        // Get video controls container\n        const videoControls = document.querySelector(\".video_controls\");\n        if (videoControls) {\n          // Hide video controls initially while video loads\n          videoControls.style.opacity = \"0\";\n          videoControls.style.visibility = \"hidden\";\n          console.log(\" Video controls hidden initially\");\n        }\n\n        // Show banner initially while video loads\n        videoBanner.style.display = \"block\";\n        videoBanner.style.opacity = \"1\";\n\n        // Hide banner and show video controls when video starts playing\n        heroVideo.addEventListener(\"canplay\", function () {\n          console.log(\n            \" Video can start playing, hiding banner and showing controls\"\n          );\n\n          // Hide banner\n          videoBanner.style.transition = \"opacity 1s ease-in-out\";\n          videoBanner.style.opacity = \"0\";\n\n          // Show video controls smoothly\n          if (videoControls) {\n            videoControls.style.visibility = \"visible\";\n            videoControls.style.opacity = \"1\";\n            console.log(\" Video controls now visible\");\n          }\n\n          // Remove banner from DOM after fade out\n          setTimeout(() => {\n            videoBanner.style.display = \"none\";\n            console.log(\" Banner hidden, video is now visible\");\n          }, 1000);\n        });\n\n        // Fallback: Hide banner and show controls if video takes too long to load\n        setTimeout(() => {\n          if (videoBanner.style.display !== \"none\") {\n            console.log(\n              \" Fallback: Hiding banner and showing controls after timeout\"\n            );\n\n            // Hide banner\n            videoBanner.style.transition = \"opacity 0.5s ease-in-out\";\n            videoBanner.style.opacity = \"0\";\n\n            // Show video controls\n            if (videoControls) {\n              videoControls.style.visibility = \"visible\";\n              videoControls.style.opacity = \"1\";\n            }\n\n            setTimeout(() => {\n              videoBanner.style.display = \"none\";\n            }, 500);\n          }\n        }, 8000); // 8 second fallback\n      }\n\n      // Set initial state - video starts playing and muted\n      let isPlaying = true;\n      let isMuted = true;\n\n      // Initialize video state\n      function initVideoState() {\n        // Ensure video is muted initially for autoplay\n        heroVideo.muted = true;\n\n        // Try to play video\n        heroVideo\n          .play()\n          .then(() => {\n            console.log(\" Video autoplay successful\");\n            isPlaying = true;\n            updatePlayPauseUI();\n          })\n          .catch((e) => {\n            console.log(\" Video autoplay failed:\", e);\n            isPlaying = false;\n            updatePlayPauseUI();\n          });\n\n        // Update UI to reflect initial state\n        updateMuteUI();\n\n        // Force initial UI update\n        setTimeout(() => {\n          updatePlayPauseUI();\n          updateMuteUI();\n        }, 100);\n      }\n\n      // Update play/pause button UI\n      function updatePlayPauseUI() {\n        console.log(\" Updating play/pause UI, isPlaying:\", isPlaying);\n        if (isPlaying) {\n          playPauseBtn.classList.add(\"playing\");\n        } else {\n          playPauseBtn.classList.remove(\"playing\");\n        }\n      }\n\n      // Update mute button UI\n      function updateMuteUI() {\n        console.log(\" Updating mute UI, isMuted:\", isMuted);\n        if (isMuted) {\n          muteBtn.classList.remove(\"unmuted\");\n        } else {\n          muteBtn.classList.add(\"unmuted\");\n        }\n      }\n\n      // Play/Pause functionality\n      function togglePlayPause() {\n        console.log(\" Toggling play/pause, current state:\", isPlaying);\n        if (isPlaying) {\n          heroVideo.pause();\n          isPlaying = false;\n        } else {\n          heroVideo\n            .play()\n            .then(() => {\n              isPlaying = true;\n            })\n            .catch((e) => {\n              console.log(\" Failed to play video:\", e);\n              isPlaying = false;\n            });\n        }\n        updatePlayPauseUI();\n      }\n\n      // Mute/Unmute functionality\n      function toggleMute() {\n        console.log(\" Toggling mute, current state:\", isMuted);\n        if (isMuted) {\n          heroVideo.muted = false;\n          isMuted = false;\n        } else {\n          heroVideo.muted = true;\n          isMuted = true;\n        }\n        updateMuteUI();\n      }\n\n      // Add event listeners\n      playPauseBtn.addEventListener(\"click\", function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        console.log(\" Play/pause button clicked\");\n        togglePlayPause();\n      });\n\n      muteBtn.addEventListener(\"click\", function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        console.log(\" Mute button clicked\");\n        toggleMute();\n      });\n\n      // Video event listeners\n      heroVideo.addEventListener(\"play\", function () {\n        console.log(\" Video play event\");\n        isPlaying = true;\n        updatePlayPauseUI();\n      });\n\n      heroVideo.addEventListener(\"pause\", function () {\n        console.log(\" Video pause event\");\n        isPlaying = false;\n        updatePlayPauseUI();\n      });\n\n      heroVideo.addEventListener(\"ended\", function () {\n        console.log(\" Video ended, restarting\");\n        // Restart video when it ends\n        heroVideo.currentTime = 0;\n        heroVideo.play();\n      });\n\n      // Initialize video controls\n      initVideoState();\n\n      // Initialize banner-to-video transition\n      handleBannerToVideoTransition();\n\n      console.log(\" Hero video controls initialized\");\n    }\n\n    // Initialize hero video controls with error handling\n    try {\n      initHeroVideoControls();\n    } catch (error) {\n      console.log(\" Video controls initialization failed:\", error);\n      // Fallback: Simple video controls without complex state management\n      initSimpleVideoControls();\n    }\n\n    // Fallback video controls function\n    function initSimpleVideoControls() {\n      const heroVideo = document.getElementById(\"heroVideo\");\n      const playPauseBtn = document.querySelector(\".play-pause\");\n      const muteBtn = document.querySelector(\".mute\");\n\n      if (!heroVideo || !playPauseBtn || !muteBtn) {\n        console.log(\" Simple video controls not found\");\n        return;\n      }\n\n      console.log(\" Initializing simple video controls\");\n\n      // Simple play/pause toggle\n      playPauseBtn.addEventListener(\"click\", function (e) {\n        e.preventDefault();\n        if (heroVideo.paused) {\n          heroVideo.play();\n          playPauseBtn.classList.add(\"playing\");\n        } else {\n          heroVideo.pause();\n          playPauseBtn.classList.remove(\"playing\");\n        }\n      });\n\n      // Simple mute toggle\n      muteBtn.addEventListener(\"click\", function (e) {\n        e.preventDefault();\n        heroVideo.muted = !heroVideo.muted;\n        if (heroVideo.muted) {\n          muteBtn.classList.remove(\"unmuted\");\n        } else {\n          muteBtn.classList.add(\"unmuted\");\n        }\n      });\n\n      // Set initial state\n      heroVideo.muted = true;\n      playPauseBtn.classList.add(\"playing\");\n      muteBtn.classList.remove(\"unmuted\");\n\n      console.log(\" Simple video controls initialized\");\n    }\n\n    // Initialize Blog Slider with Custom Navigation\n    if ($(\".blog-slider\").length > 0) {\n      const blogSlider = $(\".blog-slider\").owlCarousel({\n        loop: true,\n        margin: 40,\n        nav: false, // Disable default navigation\n        dots: true, // Disable default dots\n        center: true,\n        stagePadding: 320,\n        autoplay: true,\n        autoplayTimeout: 5000,\n        autoplayHoverPause: true,\n        smartSpeed: 800,\n        responsive: {\n          0: {\n            items: 1,\n            stagePadding: 20,\n            margin: 20\n          },\n          768: {\n            items: 1,\n            stagePadding: 100,\n            margin: 30\n          },\n          1024: {\n            items: 1,\n            stagePadding: 320,\n            margin: 40\n          }\n        }\n      });\n\n      // Custom Navigation Controls\n      const prevBtn = $(\".blog-nav-prev\");\n      const nextBtn = $(\".blog-nav-next\");\n\n      // Previous button\n      prevBtn.on(\"click\", function () {\n        blogSlider.trigger(\"prev.owl.carousel\");\n      });\n\n      // Next button\n      nextBtn.on(\"click\", function () {\n        blogSlider.trigger(\"next.owl.carousel\");\n      });\n\n      // Custom Pagination Dots\n      const dotsContainer = $(\".blog-dots\");\n\n      // Create dots based on number of items\n      blogSlider.on(\"initialized.owl.carousel\", function (event) {\n        const itemCount = event.item.count;\n        dotsContainer.empty();\n\n        for (let i = 0; i < itemCount; i++) {\n          const dot = $('<span class=\"owl-dot\"></span>');\n          if (i === 0) dot.addClass(\"active\");\n          dotsContainer.append(dot);\n        }\n      });\n\n      // Handle dot clicks\n      dotsContainer.on(\"click\", \".owl-dot\", function () {\n        const index = $(this).index();\n        blogSlider.trigger(\"to.owl.carousel\", [index, 300]);\n      });\n\n      // Update active dot on slide change\n      blogSlider.on(\"changed.owl.carousel\", function (event) {\n        $(\".owl-dot\").removeClass(\"active\");\n        $(\".owl-dot\").eq(event.item.index).addClass(\"active\");\n      });\n\n      // Pause autoplay on hover\n      $(\".blog-slider-container\").hover(\n        function () {\n          blogSlider.trigger(\"stop.owl.autoplay\");\n        },\n        function () {\n          blogSlider.trigger(\"play.owl.autoplay\");\n        }\n      );\n\n      console.log(\" Blog slider initialized with custom navigation\");\n    }\n  });\n});\n\n// *****************************************\n// **    ACCOMMODATION TAB CONTROLLER     **\n// *****************************************\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  // Tab switching functionality\n  const tabButtons = document.querySelectorAll(\".tab-button\");\n  const roomContents = document.querySelectorAll(\".room-content\");\n\n  // Thumbnail image switching functionality with smooth transitions\n  const thumbnails = document.querySelectorAll(\".thumbnail\");\n\n  if (thumbnails.length > 0) {\n    thumbnails.forEach((thumbnail) => {\n      thumbnail.addEventListener(\"click\", () => {\n        const mainImageSrc = thumbnail.getAttribute(\"data-main\");\n        const roomContent = thumbnail.closest(\".room-content\");\n        const mainImage = roomContent\n          ? roomContent.querySelector(\".main-image\")\n          : null;\n\n        if (mainImage && mainImageSrc && mainImage.src !== mainImageSrc) {\n          // Add fade out effect\n          mainImage.style.opacity = \"0.3\";\n          mainImage.style.transition = \"opacity 0.3s ease-in-out\";\n\n          // Change image after fade out\n          setTimeout(() => {\n            mainImage.src = mainImageSrc;\n            // Fade in new image\n            mainImage.style.opacity = \"1\";\n          }, 150);\n\n          // Remove active class from all thumbnails in this room\n          const roomThumbnails = roomContent.querySelectorAll(\".thumbnail\");\n          roomThumbnails.forEach((thumb) => thumb.classList.remove(\"active\"));\n\n          // Add active class to clicked thumbnail\n          thumbnail.classList.add(\"active\");\n        }\n      });\n    });\n\n    // Set first thumbnail as active for each room\n    const roomContents = document.querySelectorAll(\".room-content\");\n    roomContents.forEach((roomContent) => {\n      const firstThumbnail = roomContent.querySelector(\".thumbnail\");\n      if (firstThumbnail) {\n        firstThumbnail.classList.add(\"active\");\n      }\n    });\n  }\n\n  // Auto-slideshow functionality for room images\n  function initAutoSlideshow() {\n    const activeRoomContent = document.querySelector(\".room-content.active\");\n    if (!activeRoomContent) return;\n\n    const thumbnails = activeRoomContent.querySelectorAll(\".thumbnail\");\n    const mainImage = activeRoomContent.querySelector(\".main-image\");\n\n    if (thumbnails.length <= 1 || !mainImage) return;\n\n    let currentIndex = 0;\n    const slideInterval = 4000; // 4 seconds\n\n    const autoSlide = setInterval(() => {\n      // Only auto-slide if the room is still active\n      if (!activeRoomContent.classList.contains(\"active\")) {\n        clearInterval(autoSlide);\n        return;\n      }\n\n      currentIndex = (currentIndex + 1) % thumbnails.length;\n      const nextThumbnail = thumbnails[currentIndex];\n      const nextImageSrc = nextThumbnail.getAttribute(\"data-main\");\n\n      if (nextImageSrc && mainImage.src !== nextImageSrc) {\n        // Smooth transition\n        mainImage.style.opacity = \"0.7\";\n        mainImage.style.transition = \"opacity 0.4s ease-in-out\";\n\n        setTimeout(() => {\n          mainImage.src = nextImageSrc;\n          mainImage.style.opacity = \"1\";\n        }, 200);\n\n        // Update active thumbnail\n        thumbnails.forEach((thumb) => thumb.classList.remove(\"active\"));\n        nextThumbnail.classList.add(\"active\");\n      }\n    }, slideInterval);\n\n    // Store interval ID to clear when tab changes\n    activeRoomContent.setAttribute(\"data-slideshow-id\", autoSlide);\n  }\n\n  // Start auto-slideshow for initially active room\n  initAutoSlideshow();\n\n  // Enhanced tab switching with slideshow management\n  if (tabButtons.length > 0 && roomContents.length > 0) {\n    tabButtons.forEach((button) => {\n      button.addEventListener(\"click\", () => {\n        // Clear existing slideshows\n        roomContents.forEach((content) => {\n          const slideshowId = content.getAttribute(\"data-slideshow-id\");\n          if (slideshowId) {\n            clearInterval(parseInt(slideshowId));\n            content.removeAttribute(\"data-slideshow-id\");\n          }\n        });\n\n        // Remove active class from all buttons and contents\n        tabButtons.forEach((btn) => btn.classList.remove(\"active\"));\n        roomContents.forEach((content) => content.classList.remove(\"active\"));\n\n        // Add active class to clicked button\n        button.classList.add(\"active\");\n\n        // Show corresponding content\n        const tabId = button.getAttribute(\"data-tab\");\n        const targetContent = document.getElementById(tabId);\n        if (targetContent) {\n          targetContent.classList.add(\"active\");\n\n          // Start new slideshow for the active room\n          setTimeout(() => {\n            initAutoSlideshow();\n          }, 500);\n        }\n      });\n    });\n  }\n});\n\n// *****************************************\n// **    ACCOMMODATION MARQUEE SLIDERS     **\n// *****************************************\n\n// Infinite sliding gallery functionality for dining and yoga galleries\nfunction initAccommodationMarqueeSliders() {\n  // Dining slider - moves left\n  const diningSlider = document.querySelector(\".dining-slider\");\n  // Yoga slider - moves right\n  const yogaSlider = document.querySelector(\".yoga-slider\");\n\n  // Function to create infinite sliding effect\n  function createInfiniteSlider(slider, direction = \"left\", speed = 30) {\n    if (!slider) return;\n\n    // Check if slider has content\n    const sliderItems = slider.querySelectorAll(\"li\");\n    if (sliderItems.length === 0) {\n      console.log(\" No slider items found for infinite slider\");\n      return;\n    }\n\n    // Calculate item width based on screen size\n    const screenWidth = window.innerWidth;\n    let itemWidth = 340;\n    let gap = 0; // No gap between items for seamless loop\n\n    if (screenWidth <= 480) {\n      itemWidth = 240;\n    } else if (screenWidth <= 768) {\n      itemWidth = 280;\n    }\n\n    // Create wrapper for infinite sliding\n    const wrapper = document.createElement(\"div\");\n    wrapper.className = \"infinite-slider-wrapper\";\n\n    // Clone the original content multiple times to ensure seamless loop\n    const originalContent = slider.innerHTML;\n\n    // Create THREE sets for truly seamless infinite scroll\n    const numberOfSets = 3;\n    let setsHTML = \"\";\n\n    for (let setIndex = 0; setIndex < numberOfSets; setIndex++) {\n      setsHTML += `<div class=\"slider-set\" data-set=\"${setIndex}\">${originalContent}</div>`;\n    }\n\n    wrapper.innerHTML = setsHTML;\n\n    // Calculate total width of one set\n    const itemsPerSet = sliderItems.length;\n    const setWidth = itemsPerSet * itemWidth;\n\n    // Style the wrapper for seamless infinite scroll\n    wrapper.style.cssText = `\n\t\t\tdisplay: flex;\n\t\t\twidth: ${numberOfSets * 100}%;\n\t\t\tanimation: infinite-slide-${direction} ${speed}s linear infinite;\n\t\t\talign-items: flex-start;\n\t\t\tgap: 0;\n\t\t`;\n\n    // Apply proper spacing to all sets\n    const allSets = wrapper.querySelectorAll(\".slider-set\");\n    allSets.forEach((set, setIndex) => {\n      set.style.cssText = `\n\t\t\t\tdisplay: flex;\n\t\t\t\twidth: ${100 / numberOfSets}%;\n\t\t\t\talign-items: flex-start;\n\t\t\t\tflex-shrink: 0;\n\t\t\t\tgap: 0;\n\t\t\t`;\n\n      const listItems = set.querySelectorAll(\"li\");\n      listItems.forEach((item, index) => {\n        // Apply width and ensure no spacing issues for seamless loop\n        item.style.cssText = `\n\t\t\t\t\twidth: ${itemWidth}px;\n\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\tvertical-align: top;\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tmargin: 0;\n\t\t\t\t\tpadding: 0;\n\t\t\t\t`;\n      });\n    });\n\n    // Clear slider and add wrapper\n    slider.innerHTML = \"\";\n    slider.appendChild(wrapper);\n\n    // Set up slider container styles\n    slider.style.cssText = `\n\t\t\toverflow: hidden;\n\t\t\twidth: 100%;\n\t\t\tposition: relative;\n\t\t`;\n\n    // Enhanced hover pause functionality with smooth transitions\n    slider.addEventListener(\"mouseenter\", function () {\n      wrapper.style.animationPlayState = \"paused\";\n      slider.style.filter = \"brightness(1.05)\";\n      slider.style.transition = \"filter 0.3s ease\";\n    });\n\n    slider.addEventListener(\"mouseleave\", function () {\n      wrapper.style.animationPlayState = \"running\";\n      slider.style.filter = \"brightness(1)\";\n    });\n\n    // Add touch support for mobile\n    let isTouching = false;\n    slider.addEventListener(\"touchstart\", function () {\n      isTouching = true;\n      wrapper.style.animationPlayState = \"paused\";\n    });\n\n    slider.addEventListener(\"touchend\", function () {\n      isTouching = false;\n      setTimeout(() => {\n        if (!isTouching) {\n          wrapper.style.animationPlayState = \"running\";\n        }\n      }, 1000);\n    });\n\n    // Add resize handler to update width\n    const updateSpacing = () => {\n      const screenWidth = window.innerWidth;\n      let newItemWidth = 340;\n\n      if (screenWidth <= 480) {\n        newItemWidth = 240;\n      } else if (screenWidth <= 768) {\n        newItemWidth = 280;\n      }\n\n      const allSets = wrapper.querySelectorAll(\".slider-set\");\n      allSets.forEach((set) => {\n        const listItems = set.querySelectorAll(\"li\");\n        listItems.forEach((item) => {\n          item.style.width = `${newItemWidth}px`;\n        });\n      });\n    };\n\n    window.addEventListener(\"resize\", updateSpacing);\n\n    // Add individual image hover pause for better UX\n    const images = wrapper.querySelectorAll(\".image, img\");\n    images.forEach((image) => {\n      image.addEventListener(\"mouseenter\", function () {\n        wrapper.style.animationPlayState = \"paused\";\n      });\n\n      image.addEventListener(\"mouseleave\", function () {\n        // Only resume if not hovering over the main slider\n        if (!slider.matches(\":hover\")) {\n          wrapper.style.animationPlayState = \"running\";\n        }\n      });\n    });\n  }\n\n  // Initialize dining slider (left direction)\n  if (diningSlider) {\n    createInfiniteSlider(diningSlider, \"left\", 25);\n    console.log(\" Dining infinite slider initialized (left direction)\");\n  }\n\n  // Initialize yoga slider (right direction)\n  if (yogaSlider) {\n    createInfiniteSlider(yogaSlider, \"right\", 30);\n    console.log(\" Yoga infinite slider initialized (right direction)\");\n  }\n}\n\n// Initialize marquee sliders when DOM is ready\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  // Check if we're on accommodation page\n  if (document.querySelector(\".accommodation-template\")) {\n    initAccommodationMarqueeSliders();\n  }\n});\n\n// *****************************************\n// **    AYURVEDA THERAPIES OVERLAY SYSTEM    **\n// *****************************************\n\n// Therapy data for modal\nconst therapyData = [\n  {\n    title: \"Panchakarma Detox\",\n    description:\n      'Panchakarma, meaning \"five actions,\" is Ayurveda\\'s most comprehensive detox treatment. It focuses on eliminating toxins from the body through five core purification methods for complete wellness and rejuvenation.',\n    features: [\n      \"<strong>Process:</strong> Over several days, our Ayurvedic physicians guide you through personalized therapies, including herbal oil massages (Abhyanga), steam baths (Swedana), and medicated enemas.\",\n      \"<strong>Benefits:</strong> Panchakarma removes deep-seated toxins, improves digestion, strengthens the immune system, and restores your body's natural balance.\",\n      \"<strong>Inclusions:</strong> Daily doctor consultations, individual treatments based on your dosha, herbal supplements, and a personalized Ayurvedic meal plan.\"\n    ]\n  },\n  {\n    title: \"Rejuvenation Therapies\",\n    description:\n      \"Specialized rejuvenation therapies designed to restore vitality, enhance natural beauty, and promote long-lasting wellness through traditional Ayurvedic practices and modern therapeutic techniques.\",\n    features: [\n      \"<strong>Process:</strong> Customized treatment plans including abhyanga massages, herbal facials, specialized oils, and meditation practices.\",\n      \"<strong>Benefits:</strong> Improves skin texture, reduces stress, enhances mental clarity, and promotes overall vitality and youthful energy.\",\n      \"<strong>Inclusions:</strong> Daily treatments, herbal supplements, yoga sessions, and personalized lifestyle guidance for lasting results.\"\n    ]\n  },\n  {\n    title: \"Stress Relief Program\",\n    description:\n      \"Comprehensive stress relief program combining ancient Ayurvedic wisdom with modern therapeutic approaches to restore mental peace, emotional balance, and inner tranquility for lasting wellness.\",\n    features: [\n      \"<strong>Process:</strong> Meditation sessions, breathing techniques, therapeutic massages, stress-reducing herbal treatments, and mindfulness practices.\",\n      \"<strong>Benefits:</strong> Reduces anxiety, improves sleep quality, enhances mental clarity, and builds resilience against daily stress factors.\",\n      \"<strong>Inclusions:</strong> Daily meditation sessions, stress-relief treatments, herbal teas, and personal counseling for sustainable stress management.\"\n    ]\n  }\n];\n\n// Initialize therapies overlay system\nfunction initTherapiesOverlaySystem() {\n  console.log(\" Initializing therapies overlay system\");\n\n  const slides = document.querySelectorAll(\".therapies-slide\");\n  const overlays = document.querySelectorAll(\".slide_active_overlay\");\n\n  if (slides.length === 0) {\n    console.log(\" No therapies slides found\");\n    return;\n  }\n\n  let activeOverlay = null;\n  let activeSlideIndex = null;\n\n  // Add click handlers for discover buttons\n  slides.forEach((slide, index) => {\n    const discoverBtn = slide.querySelector(\".see-more-btn\");\n    const overlay = slide.querySelector(\".slide_active_overlay\");\n    const closeBtn = overlay ? overlay.querySelector(\".close-btn\") : null;\n\n    if (discoverBtn) {\n      // Discover button click handler\n      discoverBtn.addEventListener(\"click\", function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        console.log(` Opening therapy details for slide ${index + 1}`);\n\n        // Check if mobile - use Bootstrap modal\n        if (window.innerWidth <= 768) {\n          openMobileModal(index);\n        } else {\n          // Desktop - use overlay system\n          // Close any currently active overlay (including the same one)\n          if (activeOverlay) {\n            closeOverlay(activeOverlay);\n            // If clicking the same overlay that's already open, just close it\n            if (activeOverlay === overlay) {\n              activeOverlay = null;\n              activeSlideIndex = null;\n              return;\n            }\n          }\n\n          // Close all other overlays to ensure clean state\n          const allOverlays = document.querySelectorAll(\n            \".slide_active_overlay\"\n          );\n          allOverlays.forEach((otherOverlay) => {\n            if (\n              otherOverlay !== overlay &&\n              otherOverlay.classList.contains(\"active\")\n            ) {\n              closeOverlay(otherOverlay);\n            }\n          });\n\n          // Open this overlay\n          openOverlay(overlay, index);\n          activeOverlay = overlay;\n          activeSlideIndex = index;\n        }\n      });\n    }\n\n    if (closeBtn && overlay) {\n      // Close button click handler\n      closeBtn.addEventListener(\"click\", function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        console.log(` Closing overlay for slide ${index + 1}`);\n\n        closeOverlay(overlay);\n        if (activeOverlay === overlay) {\n          activeOverlay = null;\n          activeSlideIndex = null;\n        }\n      });\n    }\n\n    // Add hover handler for auto-close (desktop only)\n    if (window.innerWidth > 768) {\n      slide.addEventListener(\"mouseenter\", function () {\n        // If another overlay is active and we're hovering a different slide\n        if (\n          activeOverlay &&\n          activeSlideIndex !== null &&\n          activeSlideIndex !== index\n        ) {\n          console.log(\n            ` Auto-closing overlay due to hover on slide ${index + 1}`\n          );\n          closeOverlay(activeOverlay);\n          activeOverlay = null;\n          activeSlideIndex = null;\n        }\n      });\n\n      // Add additional cleanup when slide loses focus\n      slide.addEventListener(\"mouseleave\", function () {\n        // Small delay to prevent flickering when moving between slides\n        setTimeout(() => {\n          // Check if we're still within the slider container\n          const sliderContainer = document.querySelector(\".therapies-slider\");\n          if (sliderContainer && !sliderContainer.matches(\":hover\")) {\n            if (activeOverlay && activeSlideIndex === index) {\n              console.log(\n                ` Auto-closing overlay due to leaving slide ${index + 1}`\n              );\n              closeOverlay(activeOverlay);\n              activeOverlay = null;\n              activeSlideIndex = null;\n            }\n          }\n        }, 100);\n      });\n    }\n  });\n\n  // Add escape key handler\n  document.addEventListener(\"keydown\", function (e) {\n    if (e.key === \"Escape\" && activeOverlay) {\n      console.log(\" Closing overlay with Escape key\");\n      closeOverlay(activeOverlay);\n      activeOverlay = null;\n      activeSlideIndex = null;\n    }\n  });\n\n  // Add slider container leave handler to close overlays when leaving slider area\n  const sliderContainer = document.querySelector(\".therapies-slider\");\n  if (sliderContainer && window.innerWidth > 768) {\n    sliderContainer.addEventListener(\"mouseleave\", function () {\n      if (activeOverlay) {\n        console.log(\" Auto-closing overlay due to leaving slider area\");\n        closeOverlay(activeOverlay);\n        activeOverlay = null;\n        activeSlideIndex = null;\n      }\n    });\n  }\n\n  // Function to close all overlays (utility function)\n  function closeAllOverlays() {\n    const allOverlays = document.querySelectorAll(\".slide_active_overlay\");\n    allOverlays.forEach((overlay) => {\n      if (overlay.classList.contains(\"active\")) {\n        closeOverlay(overlay);\n      }\n    });\n    activeOverlay = null;\n    activeSlideIndex = null;\n    console.log(\" All overlays closed\");\n  }\n\n  // Make closeAllOverlays available globally for debugging\n  window.closeAllTherapyOverlays = closeAllOverlays;\n\n  console.log(\" Therapies overlay system initialized\");\n}\n\n// Open mobile modal with therapy content\nfunction openMobileModal(therapyIndex) {\n  const modal = document.getElementById(\"therapiesModal\");\n  const modalTitle = document.getElementById(\"therapiesModalLabel\");\n  const modalBody = document.getElementById(\"therapiesModalBody\");\n\n  if (!modal || !modalTitle || !modalBody) {\n    console.log(\" Modal elements not found\");\n    return;\n  }\n\n  const therapy = therapyData[therapyIndex];\n  if (!therapy) {\n    console.log(\" Therapy data not found for index:\", therapyIndex);\n    return;\n  }\n\n  // Set modal content\n  modalTitle.textContent = therapy.title;\n\n  // Build modal body content\n  let modalContent = `\n\t\t<div class=\"therapy-modal-content\">\n\t\t\t<p class=\"therapy-description mb-4\">${therapy.description}</p>\n\t\t\t<div class=\"therapy-features\">\n\t\t\t\t<ul class=\"list-unstyled\">\n\t`;\n\n  therapy.features.forEach((feature) => {\n    modalContent += `<li class=\"mb-3\">${feature}</li>`;\n  });\n\n  modalContent += `\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t`;\n\n  modalBody.innerHTML = modalContent;\n\n  // Show modal using Bootstrap\n  const bootstrapModal = new bootstrap.Modal(modal);\n  bootstrapModal.show();\n\n  console.log(` Opened mobile modal for therapy: ${therapy.title}`);\n}\n\n// Open overlay with smooth animation\nfunction openOverlay(overlay, slideIndex) {\n  if (!overlay) return;\n\n  // Remove any existing closing class\n  overlay.classList.remove(\"closing\");\n\n  // Add active class for smooth slide-up animation\n  overlay.classList.add(\"active\");\n\n  // Optional: Add body scroll lock for better UX\n  document.body.style.overflow = \"hidden\";\n\n  console.log(` Overlay opened for slide ${slideIndex + 1}`);\n}\n\n// Close overlay with smooth animation\nfunction closeOverlay(overlay) {\n  if (!overlay) return;\n\n  // Add closing class for smooth slide-down animation\n  overlay.classList.add(\"closing\");\n  overlay.classList.remove(\"active\");\n\n  // Re-enable body scroll after animation completes\n  setTimeout(() => {\n    document.body.style.overflow = \"\";\n    // Remove closing class after animation\n    overlay.classList.remove(\"closing\");\n  }, 500); // Match CSS transition duration\n\n  console.log(\" Overlay closed with smooth animation\");\n}\n\n// Legacy functions for backward compatibility (can be removed later)\nfunction showMoreContent(button) {\n  const slide = button.closest(\".therapies-slide\");\n  if (!slide) return;\n\n  const overlay = slide.querySelector(\".slide_active_overlay\");\n  if (overlay) {\n    openOverlay(overlay);\n  }\n}\n\nfunction hideMoreContent(button) {\n  const slide = button.closest(\".therapies-slide\");\n  if (!slide) return;\n\n  const overlay = slide.querySelector(\".slide_active_overlay\");\n  if (overlay) {\n    closeOverlay(overlay);\n  }\n}\n\n// *****************************************\n// **       ANIMATIONS IMPORTED           **\n// *****************************************\n// All GSAP animations are now in sources/js/animations.js\n// This file is automatically included by gulp build process\n\n// *****************************************\n// **    ROOMS TEMPLATE ACCORDION         **\n// *****************************************\n\n// Initialize Bootstrap accordion for rooms template\nfunction initRoomsAccordion() {\n  const accordionElement = document.getElementById(\"amenitiesAccordion\");\n\n  if (!accordionElement) {\n    console.log(\" Rooms accordion not found\");\n    return;\n  }\n\n  console.log(\" Initializing rooms accordion\");\n\n  // Get all accordion buttons\n  const accordionButtons =\n    accordionElement.querySelectorAll(\".accordion-button\");\n\n  // Add click event listeners for custom behavior\n  accordionButtons.forEach((button, index) => {\n    button.addEventListener(\"click\", function (e) {\n      console.log(` Accordion item ${index + 1} clicked`);\n\n      // Bootstrap will handle the collapse/expand automatically\n      // We can add custom logic here if needed\n    });\n  });\n\n  // Listen for Bootstrap accordion events\n  accordionElement.addEventListener(\"show.bs.collapse\", function (event) {\n    console.log(\" Accordion item opening:\", event.target.id);\n  });\n\n  accordionElement.addEventListener(\"shown.bs.collapse\", function (event) {\n    console.log(\" Accordion item opened:\", event.target.id);\n  });\n\n  accordionElement.addEventListener(\"hide.bs.collapse\", function (event) {\n    console.log(\" Accordion item closing:\", event.target.id);\n  });\n\n  accordionElement.addEventListener(\"hidden.bs.collapse\", function (event) {\n    console.log(\" Accordion item closed:\", event.target.id);\n  });\n\n  console.log(\" Rooms accordion initialized\");\n}\n\n// *****************************************\n// **    MASONRY GALLERY SYSTEM          **\n// *****************************************\n\n// Advanced Masonry Gallery with Optimized Loading\nfunction initMasonryGallery() {\n  const galleryContainer = document.getElementById(\"masonry-gallery\");\n  const skeletonContainer = document.getElementById(\"gallery-skeleton\");\n\n  console.log(\" Attempting to initialize masonry gallery\");\n  console.log(\" Gallery container:\", galleryContainer);\n  console.log(\" Skeleton container:\", skeletonContainer);\n\n  if (!galleryContainer) {\n    console.log(\" Masonry gallery not found\");\n    return;\n  }\n\n  console.log(\" Initializing masonry gallery\");\n\n  // Gallery state management\n  let galleryState = {\n    isLoading: true,\n    imagesLoaded: 0,\n    totalImages: 0,\n    images: []\n  };\n\n  // Show skeleton loading initially\n  function showSkeletonLoading() {\n    console.log(\" Showing skeleton loading\");\n    if (skeletonContainer) {\n      skeletonContainer.classList.add(\"loading\");\n      skeletonContainer.style.display = \"block\";\n    }\n    if (galleryContainer) {\n      galleryContainer.style.opacity = \"0\";\n      galleryContainer.style.pointerEvents = \"none\";\n    }\n  }\n\n  // Hide skeleton and show gallery\n  function hideSkeletonLoading() {\n    console.log(\" Hiding skeleton loading\");\n    if (skeletonContainer) {\n      skeletonContainer.classList.remove(\"loading\");\n      skeletonContainer.style.display = \"none\";\n    }\n    if (galleryContainer) {\n      galleryContainer.style.opacity = \"1\";\n      galleryContainer.style.pointerEvents = \"auto\";\n    }\n  }\n\n  // Optimized image loading with progressive enhancement\n  function initOptimizedImageLoading() {\n    const images = galleryContainer.querySelectorAll(\".brick-image\");\n    galleryState.totalImages = images.length;\n    galleryState.images = Array.from(images);\n\n    if (galleryState.totalImages === 0) {\n      console.log(\" No images found in gallery\");\n      hideSkeletonLoading();\n      return;\n    }\n\n    console.log(` Found ${galleryState.totalImages} images in gallery`);\n\n    // Debug: Log all image sources\n    images.forEach((img, index) => {\n      console.log(` Image ${index + 1}:`, {\n        src: img.src,\n        complete: img.complete,\n        naturalWidth: img.naturalWidth,\n        naturalHeight: img.naturalHeight,\n        hasError: img.src === \"\" || img.src.includes(\"undefined\")\n      });\n    });\n\n    showSkeletonLoading();\n\n    // Check if images are already loaded\n    images.forEach((img, index) => {\n      // Add loading class initially\n      img.classList.add(\"loading\");\n\n      // Check if image is already loaded\n      if (img.complete && img.naturalHeight !== 0) {\n        // Image is already loaded\n        setTimeout(() => loadImage(img), index * 100); // Stagger the animations\n      } else {\n        // Image is still loading\n        img.addEventListener(\"load\", () => {\n          setTimeout(() => loadImage(img), index * 100); // Stagger the animations\n        });\n\n        img.addEventListener(\"error\", () => {\n          console.log(\" Failed to load image:\", img.src);\n          img.classList.remove(\"loading\");\n          img.classList.add(\"error\");\n          galleryState.imagesLoaded++;\n          updateLoadingProgress();\n        });\n      }\n    });\n\n    // Fallback: if no images load after 1 second, hide skeleton anyway\n    setTimeout(() => {\n      if (galleryState.isLoading) {\n        console.log(\" Fallback: Hiding skeleton after timeout\");\n        hideSkeletonLoading();\n        galleryState.isLoading = false;\n\n        // Force show all images and make them visible\n        images.forEach((img) => {\n          img.classList.remove(\"loading\");\n          img.classList.add(\"loaded\");\n          img.style.opacity = \"1\";\n          img.style.visibility = \"visible\";\n        });\n\n        // Force gallery to be visible\n        galleryContainer.style.opacity = \"1\";\n        galleryContainer.style.display = \"block\";\n        galleryContainer.style.visibility = \"visible\";\n      }\n    }, 1000);\n  }\n\n  // Load individual image with error handling\n  function loadImage(imgElement) {\n    // Images already have src attribute, so we don't need lazy loading for them\n    // Just mark them as loaded and add animation\n    if (imgElement.dataset.loaded === \"true\") {\n      return;\n    }\n\n    imgElement.dataset.loaded = \"true\";\n    imgElement.classList.remove(\"loading\");\n    imgElement.classList.add(\"loaded\");\n\n    // Add entrance animation\n    animateImageEntrance(imgElement);\n\n    // Track loading progress\n    galleryState.imagesLoaded++;\n    updateLoadingProgress();\n\n    console.log(` Image ${galleryState.imagesLoaded} loaded successfully`);\n  }\n\n  // Update loading progress and hide skeleton when done\n  function updateLoadingProgress() {\n    const progress =\n      (galleryState.imagesLoaded / galleryState.totalImages) * 100;\n\n    console.log(` Loading progress: ${Math.round(progress)}%`);\n\n    // Hide skeleton when most images are loaded\n    if (\n      galleryState.imagesLoaded >= Math.ceil(galleryState.totalImages * 0.6)\n    ) {\n      if (galleryState.isLoading) {\n        galleryState.isLoading = false;\n        hideSkeletonLoading();\n\n        // Animate gallery appearance\n        animateGalleryEntrance();\n      }\n    }\n  }\n\n  // Animate individual image entrance\n  function animateImageEntrance(imgElement) {\n    const brick = imgElement.closest(\".brick\");\n    if (!brick) return;\n\n    // Use GSAP if available, fallback to CSS\n    if (typeof gsap !== \"undefined\") {\n      gsap.fromTo(\n        brick,\n        {\n          opacity: 0,\n          y: 30,\n          scale: 0.95\n        },\n        {\n          opacity: 1,\n          y: 0,\n          scale: 1,\n          duration: 0.6,\n          ease: \"power2.out\",\n          delay: Math.random() * 0.3 // Stagger effect\n        }\n      );\n    } else {\n      brick.style.animation = \"fadeInUp 0.6s ease-out forwards\";\n    }\n  }\n\n  // Animate gallery entrance\n  function animateGalleryEntrance() {\n    const bricks = galleryContainer.querySelectorAll(\".brick\");\n\n    if (typeof gsap !== \"undefined\") {\n      gsap.from(bricks, {\n        opacity: 0,\n        y: 50,\n        duration: 0.8,\n        stagger: 0.1,\n        ease: \"power2.out\"\n      });\n    }\n\n    console.log(\" Gallery fully loaded and animated\");\n  }\n\n  // Initialize all gallery functionality\n  function init() {\n    initOptimizedImageLoading();\n\n    // Add hover effects\n    initHoverEffects();\n\n    // Emergency fallback - ensure images are visible after 200ms\n    setTimeout(() => {\n      const images = galleryContainer.querySelectorAll(\".brick-image\");\n      let fixedImages = 0;\n\n      images.forEach((img) => {\n        if (img.classList.contains(\"loading\") || img.style.opacity !== \"1\") {\n          console.log(\" Emergency: Making image visible\", img.src);\n          img.classList.remove(\"loading\");\n          img.classList.add(\"loaded\");\n          img.style.opacity = \"1\";\n          img.style.visibility = \"visible\";\n          img.style.display = \"block\";\n          fixedImages++;\n        }\n      });\n\n      if (fixedImages > 0) {\n        console.log(` Emergency fix applied to ${fixedImages} images`);\n      }\n\n      // Make sure gallery is visible\n      galleryContainer.style.opacity = \"1\";\n      galleryContainer.style.display = \"block\";\n      galleryContainer.style.visibility = \"visible\";\n\n      // Hide skeleton if still showing\n      if (\n        skeletonContainer &&\n        skeletonContainer.classList.contains(\"loading\")\n      ) {\n        hideSkeletonLoading();\n        galleryState.isLoading = false;\n      }\n    }, 200);\n\n    console.log(\" Masonry gallery fully initialized\");\n  }\n\n  // Initialize hover effects\n  function initHoverEffects() {\n    const bricks = galleryContainer.querySelectorAll(\".brick\");\n\n    bricks.forEach((brick) => {\n      brick.addEventListener(\"mouseenter\", () => {\n        if (typeof gsap !== \"undefined\") {\n          gsap.to(brick, {\n            y: -8,\n            scale: 1.02,\n            duration: 0.4,\n            ease: \"power2.out\"\n          });\n        }\n      });\n\n      brick.addEventListener(\"mouseleave\", () => {\n        if (typeof gsap !== \"undefined\") {\n          gsap.to(brick, {\n            y: 0,\n            scale: 1,\n            duration: 0.4,\n            ease: \"power2.out\"\n          });\n        }\n      });\n    });\n  }\n\n  // Start initialization\n  init();\n}\n\n// *****************************************\n// **    AYURVEDA IMMUNITY SECTION        **\n// *****************************************\n\n// Initialize immunity section animation\nfunction initImmunitySectionAnimation() {\n  // Skip initialization on mobile devices (768px and below)\n  if (window.innerWidth <= 768) {\n    console.log(\" Skipping immunity section animation on mobile\");\n    return;\n  }\n\n  const immunitySection = document.querySelector(\".immunity_section\");\n  const firstItem = document.querySelector(\n    \".immunity_section .single_item.first\"\n  );\n\n  if (!immunitySection || !firstItem) {\n    console.log(\" Immunity section or first item not found\");\n    return;\n  }\n\n  console.log(\" Initializing immunity section animation (desktop only)\");\n\n  // Create intersection observer\n  const observerOptions = {\n    root: null,\n    rootMargin: \"-20% 0px -20% 0px\", // Trigger when 20% of the section is visible\n    threshold: 0.3 // Trigger when 30% of the element is visible\n  };\n\n  const observer = new IntersectionObserver((entries) => {\n    entries.forEach((entry) => {\n      if (entry.isIntersecting) {\n        console.log(\" Immunity section is now visible, showing first item\");\n        // Add show class to trigger opacity animation\n        firstItem.classList.add(\"show\");\n\n        // Optionally unobserve after first trigger (remove this if you want it to trigger every time)\n        observer.unobserve(entry.target);\n      }\n    });\n  }, observerOptions);\n\n  // Start observing the immunity section\n  observer.observe(immunitySection);\n\n  console.log(\" Immunity section animation initialized (desktop only).\");\n}\n\n// *****************************************\n// **    PAGE-SPECIFIC IMPLEMENTATIONS    **\n// *****************************************\n\n// Prevent weird scroll restoration behavior\nwindow.history.scrollRestoration = \"manual\";\nwindow.scrollTo(0, 0);\n\n// Remove loading class after page loads\ndocument.documentElement.classList.add(\"is-loading\");\nwindow.addEventListener(\"load\", () => {\n  document.documentElement.classList.remove(\"is-loading\");\n});\n\n// Start the initialization process\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  // Accommodation Template Animation\n  waitForGSAPAndInit(\".accommodation-template\", {\n    debug: false, // Disable debug for production\n    duration: 2.5,\n    textScaling: {\n      enabled: true,\n      endScale: 0.7, // Scale down to 70%\n      animationStart: 0.5 // Start scaling when image is 50% expanded (longer duration)\n    }\n  });\n\n  // Ayurveda Template Animation\n  waitForGSAPAndInit(\".ayurveda-template\", {\n    debug: false, // Disable debug for production\n    duration: 3, // Slightly slower animation\n    ease: \"power2.out\",\n    textScaling: {\n      enabled: true,\n      endScale: 0.75, // Scale down to 75%\n      animationStart: 0.4, // Start scaling when image is 40% expanded (much longer duration)\n      ease: \"power3.out\" // Different easing for text\n    }\n  });\n\n  // About Us Template Animation\n  waitForGSAPAndInit(\".aboutus-template\", {\n    debug: false, // Disable debug for production\n    duration: 2.8, // Medium animation speed\n    ease: \"power2.inOut\",\n    textScaling: {\n      enabled: true,\n      endScale: 0.8, // Scale down to 80% (less dramatic)\n      animationStart: 0.55, // Start scaling when image is 55% expanded\n      ease: \"power2.out\" // Smooth easing for text\n    }\n  });\n\n  // Serene Title Animation (Accommodation page)\n  waitForGSAPAndInitSerene(\".accommodation-template\", {\n    // debug: true,\n  });\n\n  // Immunity Section Animation (Ayurveda page)\n  waitForGSAPAndInitImmunity(\".ayurveda-template\", {\n    debug: false // Disable debug for production\n  });\n\n  // Rooms Template Animation\n  waitForGSAPAndInit(\".rooms-template\", {\n    debug: false,\n    duration: 2.5,\n    ease: \"power2.inOut\",\n    textScaling: {\n      enabled: true,\n      endScale: 0.7, // Scale down to 70%\n      animationStart: 0.5 // Start scaling when image is 50% expanded\n    }\n  });\n\n  // Initialize rooms accordion\n  initRoomsAccordion();\n\n  // Initialize masonry gallery - only if on rooms template\n  if (document.querySelector(\".rooms-template\")) {\n    // Wait a bit for DOM to be fully ready\n    setTimeout(() => {\n      initMasonryGallery();\n    }, 100);\n  }\n\n  // Initialize Ayurveda immunity section animation - only if on ayurveda template\n  if (document.querySelector(\".ayurveda-template\")) {\n    initImmunitySectionAnimation();\n    // Initialize therapies overlay system\n    initTherapiesOverlaySystem();\n  }\n\n  //  ADD THIS NEW LINE - Serene Bottom Image Animation\n  waitForGSAPAndInitSereneImage(\".accommodation-template\", {\n    debug: false,\n    scrub: 1,\n    upperMiddleImage: {\n      moveDistance: -30, // Down 30px\n      ease: \"power2.out\"\n    },\n    upperRightImage: {\n      moveDistance: -30, // Up 30px\n      ease: \"power2.out\"\n    },\n    middleImage: {\n      moveDistance: -100,\n\t  ease: \"power2.out\" // Up 100px\n    },\n    leftImage: {\n      moveDistance: -70,\n\t  ease: \"power2.out\"// Up 70px\n    }\n  });\n\n  // Example: Home Template Animation (uncomment to use)\n  // waitForGSAPAndInit(\".home-template\", {\n  //     debug: false,\n  //     duration: 2,\n  //     circle: { endRadius: 120 } // Bigger circle for home page\n  // });\n});\n\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  // Initialize dining slider (slides left)\n  initializeSlider(\".dining-slider\", \"left\", 40);\n\n  // Initialize yoga slider (slides right)\n  initializeSlider(\".yoga-slider\", \"right\", 45);\n});\n\nfunction initializeSlider(sliderSelector, direction, duration) {\n  const slider = document.querySelector(sliderSelector);\n  if (!slider) return;\n\n  const items = slider.querySelectorAll(\"li\");\n  if (items.length === 0) return;\n\n  // Store original items before clearing\n  const originalItems = Array.from(items);\n\n  // Clear existing content\n  slider.innerHTML = \"\";\n\n  // Create wrapper for infinite scroll\n  const wrapper = document.createElement(\"div\");\n  wrapper.classList.add(\"infinite-slider-wrapper\");\n\n  // Create first set\n  const firstSet = document.createElement(\"div\");\n  firstSet.classList.add(\"slider-set\");\n\n  // Add all items to first set\n  originalItems.forEach((item) => {\n    const clonedItem = item.cloneNode(true);\n    firstSet.appendChild(clonedItem);\n  });\n\n  // Create second set (exact duplicate for seamless loop)\n  const secondSet = document.createElement(\"div\");\n  secondSet.classList.add(\"slider-set\");\n\n  // Add all items to second set\n  originalItems.forEach((item) => {\n    const clonedItem = item.cloneNode(true);\n    secondSet.appendChild(clonedItem);\n  });\n\n  // Append both sets to wrapper\n  wrapper.appendChild(firstSet);\n  wrapper.appendChild(secondSet);\n\n  // Append wrapper to slider\n  slider.appendChild(wrapper);\n\n  // Wait for images to load and DOM to be ready\n  setTimeout(() => {\n    // Set animation based on direction\n    const animationName =\n      direction === \"left\" ? \"infinite-slide-left\" : \"infinite-slide-right\";\n    wrapper.style.animation = `${animationName} ${duration}s linear infinite`;\n\n    // Pause animation on hover\n    slider.addEventListener(\"mouseenter\", () => {\n      wrapper.style.animationPlayState = \"paused\";\n    });\n\n    slider.addEventListener(\"mouseleave\", () => {\n      wrapper.style.animationPlayState = \"running\";\n    });\n  }, 100);\n}\n\n// Optional: Add room tabs functionality if not already present\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  // Room tabs functionality\n  const tabButtons = document.querySelectorAll(\".tab-button\");\n  const roomContents = document.querySelectorAll(\".room-content\");\n\n  tabButtons.forEach((button) => {\n    button.addEventListener(\"click\", function () {\n      const tabId = this.getAttribute(\"data-tab\");\n\n      // Remove active class from all buttons and contents\n      tabButtons.forEach((btn) => btn.classList.remove(\"active\"));\n      roomContents.forEach((content) => content.classList.remove(\"active\"));\n\n      // Add active class to clicked button and corresponding content\n      this.classList.add(\"active\");\n      const activeContent = document.getElementById(tabId);\n      if (activeContent) {\n        activeContent.classList.add(\"active\");\n      }\n    });\n  });\n\n  // Thumbnail click functionality for room images\n  document.querySelectorAll(\".thumbnail\").forEach((thumbnail) => {\n    thumbnail.addEventListener(\"click\", function () {\n      const mainImageSrc = this.getAttribute(\"data-main\");\n      const container = this.closest(\".room-content\");\n\n      if (container) {\n        const mainImage = container.querySelector(\".main-image\");\n\n        if (mainImage && mainImageSrc) {\n          // Fade out\n          mainImage.style.opacity = \"0\";\n\n          // Change image after fade\n          setTimeout(() => {\n            mainImage.src = mainImageSrc;\n            // Fade in\n            mainImage.style.opacity = \"1\";\n          }, 400);\n\n          // Update active thumbnail\n          container.querySelectorAll(\".thumbnail\").forEach((thumb) => {\n            thumb.classList.remove(\"active\");\n          });\n          this.classList.add(\"active\");\n        }\n      }\n    });\n  });\n\n  // Set first thumbnail as active for each room\n  document.querySelectorAll(\".room-content\").forEach((room) => {\n    const firstThumbnail = room.querySelector(\".thumbnail\");\n    if (firstThumbnail) {\n      firstThumbnail.classList.add(\"active\");\n    }\n  });\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  const lightboxModal = document.getElementById(\"lightbox-modal\");\n  const lightboxImage = document.getElementById(\"lightbox-image\");\n  const lightboxCaption = document.getElementById(\"lightbox-caption\");\n  const lightboxClose = document.getElementById(\"lightbox-close\");\n  const lightboxPrev = document.getElementById(\"lightbox-prev\");\n  const lightboxNext = document.getElementById(\"lightbox-next\");\n  const brickImages = document.querySelectorAll(\".brick-image\");\n\n  let currentImageIndex = 0;\n  let imagesData = [];\n\n  // Collect all images data\n  brickImages.forEach((img, index) => {\n    imagesData.push({\n      fullSrc: img.dataset.fullSrc || img.src,\n      alt: img.alt,\n      caption: img.dataset.caption || \"\"\n    });\n\n    // Add click event to each image\n    img.addEventListener(\"click\", function () {\n      openLightbox(index);\n    });\n  });\n\n  function openLightbox(index) {\n    currentImageIndex = index;\n    updateLightboxImage();\n    lightboxModal.classList.add(\"active\");\n    document.body.style.overflow = \"hidden\"; // Prevent background scrolling\n  }\n\n  function closeLightbox() {\n    lightboxModal.classList.remove(\"active\");\n    document.body.style.overflow = \"\"; // Restore scrolling\n  }\n\n  function updateLightboxImage() {\n    const imageData = imagesData[currentImageIndex];\n    lightboxImage.src = imageData.fullSrc;\n    lightboxImage.alt = imageData.alt;\n\n    if (imageData.caption) {\n      lightboxCaption.textContent = imageData.caption;\n      lightboxCaption.style.display = \"block\";\n    } else {\n      lightboxCaption.style.display = \"none\";\n    }\n\n    // Show/hide navigation buttons based on position\n    if (imagesData.length <= 1) {\n      lightboxPrev.style.display = \"none\";\n      lightboxNext.style.display = \"none\";\n    } else {\n      lightboxPrev.style.display = \"flex\";\n      lightboxNext.style.display = \"flex\";\n    }\n  }\n\n  function showPrevImage() {\n    currentImageIndex =\n      (currentImageIndex - 1 + imagesData.length) % imagesData.length;\n    updateLightboxImage();\n  }\n\n  function showNextImage() {\n    currentImageIndex = (currentImageIndex + 1) % imagesData.length;\n    updateLightboxImage();\n  }\n\n  // Event Listeners\n  lightboxClose.addEventListener(\"click\", closeLightbox);\n  lightboxPrev.addEventListener(\"click\", showPrevImage);\n  lightboxNext.addEventListener(\"click\", showNextImage);\n\n  // Close lightbox when clicking outside the image\n  lightboxModal.addEventListener(\"click\", function (e) {\n    if (e.target === lightboxModal) {\n      closeLightbox();\n    }\n  });\n\n  // Keyboard navigation\n  document.addEventListener(\"keydown\", function (e) {\n    if (!lightboxModal.classList.contains(\"active\")) return;\n\n    switch (e.key) {\n      case \"Escape\":\n        closeLightbox();\n        break;\n      case \"ArrowLeft\":\n        showPrevImage();\n        break;\n      case \"ArrowRight\":\n        showNextImage();\n        break;\n    }\n  });\n\n  // Touch swipe support for mobile\n  let touchStartX = 0;\n  let touchEndX = 0;\n\n  lightboxModal.addEventListener(\"touchstart\", function (e) {\n    touchStartX = e.changedTouches[0].screenX;\n  });\n\n  lightboxModal.addEventListener(\"touchend\", function (e) {\n    touchEndX = e.changedTouches[0].screenX;\n    handleSwipe();\n  });\n\n  function handleSwipe() {\n    const swipeThreshold = 50;\n    const diff = touchStartX - touchEndX;\n\n    if (Math.abs(diff) > swipeThreshold) {\n      if (diff > 0) {\n        // Swiped left - show next\n        showNextImage();\n      } else {\n        // Swiped right - show previous\n        showPrevImage();\n      }\n    }\n  }\n});\n"],"names":["DEFAULT_HERO_ANIMATION_CONFIG","duration","ease","circle","startRadius","endRadius","animationStart","animationEnd","textScaling","enabled","startScale","endScale","performance","refreshPriority","scrub","anticipatePin","fastScrollEnd","preventOverlaps","debug","initHeroAnimation","pageSelector","customConfig","heroSectionSelector","document","querySelector","gsap","ScrollTrigger","console","warn","isMobile","window","innerWidth","config","registerPlugin","pageContainer","heroSection","heroClippath","heroContent","heroTextBack","heroTitleBlue","heroTitleWhite","heroDescriptionBlue","heroDescriptionWhite","heroTimeline","timeline","scrollTrigger","trigger","start","end","pin","pinSpacing","markers","invalidateOnRefresh","set","clipPath","filter","Boolean","opacity","scale","y","to","delay","overwrite","immediateRender","textElements","descriptionElements","length","transformOrigin","onUpdate","willChange","resizeTimer","addEventListener","clearTimeout","setTimeout","refresh","log","elements","DEFAULT_SERENE_TITLE_CONFIG","middle","initSereneTitleAnimation","page","sereneSection","sereneTitle","firstLine","secondLine","cfg","xPercent","DEFAULT_IMMUNITY_CONFIG","firstContentEnd","contentGap","imageMoveSpeed","initImmunitySectionAnimation","immunitySection","contentWrapper","firstItem","secondItem","leftImages","querySelectorAll","rightImages","immunityTimeline","onEnter","onLeave","onEnterBack","onLeaveBack","onRefresh","create","imageTimeline","forEach","img","index","moveDistance","getAll","waitForGSAPAndInitImmunity","DEFAULT_SERENE_IMAGE_CONFIG","upperMiddleImage","upperRightImage","middleImage","leftImage","initSereneBottomImageAnimation","id","waitForGSAPAndInitSereneImage","waitForGSAPAndInit","waitForGSAPAndInitSerene","initAllHeroAnimations","jQuery","$","ready","$navbar","$searchContainer","$body","$searchBox","$searchForm","lastScrollTop","navbarHeight","outerHeight","originalBodyPadRight","getScrollbarWidth","documentElement","clientWidth","handleScroll","currentScroll","scrollTop","toggleClass","hasClass","closeSearch","toggleSearch","event","preventDefault","is","openSearch","offcanvas","css","scrollbarWidth","fadeIn","addClass","focus","on","target","closest","fadeOut","removeClass","overflow","off","val","trim","stopPropagation","enableIOSVideoAutoplay","isIOS","test","navigator","userAgent","MSStream","videos","visibilityState","video","play","userInteractionEvents","eventName","initiateVideoPlayback","once","muted","catch","e","hasAttribute","removeAttribute","removeEventListener","arguments","callee","getCurrentDeviceType","width","isMobileDevice","isTabletDevice","isLargeScreen","mobileMenuState","isOpen","isAnimating","disableBootstrapOffcanvas","hamburger","setAttribute","offcanvasElement","style","display","existingBackdrop","remove","enableBootstrapOffcanvas","createMobileMenuOverlay","getElementById","overlay","createElement","className","existingNav","secondaryNav","menuHTML","logoWrap","outerHTML","primaryItems","children","Array","from","item","link","text","textContent","href","getAttribute","secondaryItems","innerHTML","body","appendChild","initHamburgerAnimation","hamburgerIcon","backgroundImage","i","line","rotation","createOpenTimeline","tl","paused","menuItems","menuHeader","closeButton","stagger","hamburgerLines","createCloseTimeline","openMobileMenu","classList","add","openTl","then","closeMobileMenu","closeTl","leftoverBackdrop","initEventListeners","stopImmediatePropagation","menuLink","key","lastDeviceType","currentDeviceType","optimizeVideoLoading","observer","MutationObserver","mutations","mutation","type","addedNodes","node","nodeType","contains","observe","childList","subtree","initHoverEffects","menuItem","x","initModernMobileHeader","error","panels","panel","removeActiveClasses","initSection3BackgroundEffects","cards","activeCard","lastHoveredCard","imageUrls","card","imageUrl","push","Image","src","onload","ensureArrowsVisible","actionButton","arrowIcon","visibility","title","mealIndex","firstCard","firstImageUrl","textWrap","description","transform","buttonContent","maxWidth","marginLeft","btnText","c","open","fallbackError","initHeroVideoControls","heroVideo","playPauseBtn","muteBtn","videoBanner","handleBannerToVideoTransition","videoControls","transition","isPlaying","isMuted","initVideoState","updatePlayPauseUI","updateMuteUI","togglePlayPause","pause","toggleMute","currentTime","initSimpleVideoControls","blogSlider","owlCarousel","loop","margin","nav","dots","center","stagePadding","autoplay","autoplayTimeout","autoplayHoverPause","smartSpeed","responsive","items","prevBtn","nextBtn","dotsContainer","itemCount","count","empty","dot","append","eq","hover","tabButtons","roomContents","thumbnails","thumbnail","mainImageSrc","roomContent","mainImage","roomThumbnails","thumb","firstThumbnail","initAutoSlideshow","activeRoomContent","currentIndex","slideInterval","autoSlide","setInterval","clearInterval","nextThumbnail","nextImageSrc","button","content","slideshowId","parseInt","btn","tabId","targetContent","initAccommodationMarqueeSliders","diningSlider","yogaSlider","createInfiniteSlider","slider","direction","speed","sliderItems","screenWidth","itemWidth","gap","wrapper","originalContent","numberOfSets","setsHTML","setIndex","itemsPerSet","setWidth","cssText","allSets","listItems","animationPlayState","isTouching","updateSpacing","newItemWidth","images","image","matches","therapyData","features","initTherapiesOverlaySystem","slides","overlays","activeOverlay","activeSlideIndex","slide","discoverBtn","closeBtn","openMobileModal","closeOverlay","allOverlays","otherOverlay","openOverlay","sliderContainer","closeAllOverlays","closeAllTherapyOverlays","therapyIndex","modal","modalTitle","modalBody","therapy","modalContent","feature","bootstrapModal","bootstrap","Modal","show","slideIndex","showMoreContent","hideMoreContent","initRoomsAccordion","accordionElement","accordionButtons","initMasonryGallery","galleryContainer","skeletonContainer","galleryState","isLoading","imagesLoaded","totalImages","showSkeletonLoading","pointerEvents","hideSkeletonLoading","initOptimizedImageLoading","complete","naturalWidth","naturalHeight","hasError","includes","loadImage","updateLoadingProgress","imgElement","dataset","loaded","animateImageEntrance","progress","Math","round","ceil","animateGalleryEntrance","brick","fromTo","random","animation","bricks","init","fixedImages","observerOptions","root","rootMargin","threshold","IntersectionObserver","entries","entry","isIntersecting","unobserve","history","scrollRestoration","scrollTo","initializeSlider","sliderSelector","originalItems","firstSet","clonedItem","cloneNode","secondSet","animationName","activeContent","container","room","lightboxModal","lightboxImage","lightboxCaption","lightboxClose","lightboxPrev","lightboxNext","brickImages","currentImageIndex","imagesData","fullSrc","alt","caption","openLightbox","updateLightboxImage","closeLightbox","imageData","showPrevImage","showNextImage","touchStartX","touchEndX","changedTouches","screenX","handleSwipe","swipeThreshold","diff","abs"],"sourceRoot":""}