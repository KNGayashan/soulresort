const pageUrl=window.location.href,pdfLinkPopup=document.getElementById("authButtonPopup");pdfLinkPopup&&pdfLinkPopup.addEventListener("click",(function(e){localStorage.setItem("redirect_after_login",pageUrl)})),document.querySelectorAll(".pdf-link").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();const o="undefined"!=typeof auth0Data&&auth0Data.auth0_id?auth0Data.auth0_id:localStorage.getItem("auth0_user_id");if(!o)return pageUrl.includes("/auth0-email-verify")||localStorage.setItem("redirect_after_login",pageUrl),localStorage.setItem("first_time_login","true"),void(window.location.href="https://www.thecirculateinitiative.org/login");const n=e.querySelector("span.d-none")?e.querySelector("span.d-none").textContent:"PDF Name Error",a=new Headers;a.set("Authorization","Basic "+btoa("chamod@enfection.com:#)zdD>Al2i/Sf0x&FyN?GqVNA!7%55")),a.set("Accept","application/json"),a.set("Content-Type","application/json");const i=JSON.stringify({user_id:"18",auth0_id:o,app_name:"The Circulate Initiative",event_name:n,page_url:pageUrl});fetch("https://dashboard.thecirculateinitiative.org/api/user-activities",{method:"POST",headers:a,body:i}).then((e=>e.json())).then((t=>{const o=e.href,n=e.querySelector("span.d-none")?e.querySelector("span.d-none").textContent.trim()+".pdf":"download.pdf",a=document.createElement("a");a.href=o,a.download=n,document.body.appendChild(a),a.click(),document.body.removeChild(a),toastr.success("Document Download Successfully!")})).catch((e=>{console.error("Error:",e)}))}))}));